if(window.console&&window.console.log){
window.console.log('Closure Compiler Stats:\n-----------------------\nOriginal Size: 218659\nOriginal Gzip Size: 53312\nCompressed Size: 136694\nCompressed Gzip Size: 38175\nCompile Time: 0\nGenerated: 2014/06/23 07:06:14 MST');
window.console.warn('JSC_PARSE_ERROR: Parse error. Non-JSDoc comment has annotations. Did you mean to start it with \'/**\'?\nLine: 4492\nChar: 0\nLine: ');
window.console.warn('JSC_PARSE_ERROR: Parse error. Non-JSDoc comment has annotations. Did you mean to start it with \'/**\'?\nLine: 4566\nChar: 0\nLine: ');
window.console.warn('JSC_PARSE_ERROR: Parse error. Non-JSDoc comment has annotations. Did you mean to start it with \'/**\'?\nLine: 4698\nChar: 0\nLine: ');
window.console.warn('JSC_PARSE_ERROR: Parse error. Non-JSDoc comment has annotations. Did you mean to start it with \'/**\'?\nLine: 4720\nChar: 0\nLine: ');
}

/*
 html2canvas v0.34 <http://html2canvas.hertzen.com>
  Copyright (c) 2011 Niklas von Hertzen. All rights reserved.
  http://www.twitter.com/niklasvh

  Released under MIT License
 MIT
*/
!function(a){var b=function(b,c,d){return this.el=b,this.$el=a(b),this.options=c,this.uuid=this.$el.attr("id")?this.$el.attr("id"):d,this.state={},this.init(),this};b.prototype={init:function(){var b=this;b._load(),b.$el.find("ul").each(function(c){var d=a(this);d.attr("data-index",c),b.options.save&&b.state.hasOwnProperty(c)?(d.parent().addClass(b.options.openClass),d.show()):d.parent().hasClass(b.options.openClass)?(d.show(),b.state[c]=1):d.hide()});var c=a("<span></span>").prepend(b.options.caretHtml),
d=b.$el.find("li > a");b._trigger(c,!1),b._trigger(d,!0),b.$el.find("li:has(ul) > a").prepend(c)},_trigger:function(b,c){var d=this;b.on("click",function(b){b.stopPropagation();var e=c?a(this).next():a(this).parent().next(),f=!1;if(c){var g=a(this).attr("href");f=void 0===g||""===g||"#"===g}if(e=e.length>0?e:!1,d.options.onClickBefore.call(this,b,e),!c||e&&f)b.preventDefault(),d._toggle(e,e.is(":hidden")),d._save();else if(d.options.accordion){var h=d.state=d._parents(a(this));d.$el.find("ul").filter(":visible").each(function(){var b=
a(this),c=b.attr("data-index");h.hasOwnProperty(c)||d._toggle(b,!1)}),d._save()}d.options.onClickAfter.call(this,b,e)})},_toggle:function(b,c){var d=this,e=b.attr("data-index"),f=b.parent();if(d.options.onToggleBefore.call(this,b,c),c){if(f.addClass(d.options.openClass),b.slideDown(d.options.slide),d.state[e]=1,d.options.accordion){var g=d.state=d._parents(b);g[e]=d.state[e]=1,d.$el.find("ul").filter(":visible").each(function(){var b=a(this),c=b.attr("data-index");g.hasOwnProperty(c)||d._toggle(b,
!1)})}}else f.removeClass(d.options.openClass),b.slideUp(d.options.slide),d.state[e]=0;d.options.onToggleAfter.call(this,b,c)},_parents:function(b,c){var d={},e=b.parent(),f=e.parents("ul");return f.each(function(){var b=a(this),e=b.attr("data-index");return e?void(d[e]=c?b:1):!1}),d},_save:function(){if(this.options.save){var b={};for(var d in this.state)1===this.state[d]&&(b[d]=1);c[this.uuid]=this.state=b,a.cookie(this.options.cookie.name,JSON.stringify(c),this.options.cookie)}},_load:function(){if(this.options.save){if(null===
c){var b=a.cookie(this.options.cookie.name);c=b?JSON.parse(b):{}}this.state=c.hasOwnProperty(this.uuid)?c[this.uuid]:{}}},toggle:function(b){var c=this,d=arguments.length;if(1>=d)c.$el.find("ul").each(function(){var d=a(this);c._toggle(d,b)});else{var e,f={},g=Array.prototype.slice.call(arguments,1);d--;for(var h=0;d>h;h++){e=g[h];var i=c.$el.find('ul[data-index="'+e+'"]').first();if(i&&(f[e]=i,b)){var j=c._parents(i,!0);for(var k in j)f.hasOwnProperty(k)||(f[k]=j[k])}}for(e in f)c._toggle(f[e],b)}c._save()},
destroy:function(){a.removeData(this.$el),this.$el.find("li:has(ul) > a").unbind("click"),this.$el.find("li:has(ul) > a > span").unbind("click")}},a.fn.navgoco=function(c){if("string"==typeof c&&"_"!==c.charAt(0)&&"init"!==c)var d=!0,e=Array.prototype.slice.call(arguments,1);else c=a.extend({},a.fn.navgoco.defaults,c||{}),a.cookie||(c.save=!1);return this.each(function(f){var g=a(this),h=g.data("navgoco");h||(h=new b(this,d?a.fn.navgoco.defaults:c,f),g.data("navgoco",h)),d&&h[c].apply(h,e)})};var c=
null;a.fn.navgoco.defaults={caretHtml:"",accordion:!1,openClass:"open",save:!0,cookie:{name:"navgoco",expires:!1,path:"/"},slide:{duration:400,easing:"swing"},onClickBefore:a.noop,onClickAfter:a.noop,onToggleBefore:a.noop,onToggleAfter:a.noop}}(jQuery);
(function($){$.fn.shorten=function(settings){var config={showChars:100,ellipsesText:"...",moreText:"more",lessText:"less",errMsg:null,force:false};if(settings)$.extend(config,settings);if($(this).data("jquery.shorten")&&!config.force)return false;$(this).data("jquery.shorten",true);$(document).off("click",".morelink");$(document).on({click:function(){var $this=$(this);if($this.hasClass("less")){$this.removeClass("less");$this.html(config.moreText);$this.parent().prev().prev().show();$this.parent().prev().hide()}else{$this.addClass("less");
$this.html(config.lessText);$this.parent().prev().prev().hide();$this.parent().prev().show()}return false}},".morelink");return this.each(function(){var $this=$(this);var content=$this.html();var contentlen=$this.text().length;if(contentlen>config.showChars){var c=content.substr(0,config.showChars);if(c.indexOf("<")>=0){var inTag=false;var bag="";var countChars=0;var openTags=[];var tagName=null;for(var i=0,r=0;r<=config.showChars;i++){if(content[i]=="<"&&!inTag){inTag=true;tagName=content.substring(i+
1,content.indexOf(">",i));if(tagName[0]=="/")if(tagName!="/"+openTags[0])config.errMsg="ERROR en HTML: the top of the stack should be the tag that closes";else openTags.shift();else if(tagName.toLowerCase()!="br")openTags.unshift(tagName)}if(inTag&&content[i]==">")inTag=false;if(inTag)bag+=content.charAt(i);else{r++;if(countChars<=config.showChars){bag+=content.charAt(i);countChars++}else if(openTags.length>0){for(j=0;j<openTags.length;j++)bag+="</"+openTags[j]+">";break}}}c=$("<div/>").html(bag+
'<span class="ellip">'+config.ellipsesText+"</span>").html()}var html='<div class="shortcontent">'+c+'</div><div class="allcontent">'+content+'</div><span><a href="javascript://nop/" class="morelink">'+config.moreText+"</a></span>";$this.html(html);$this.find(".allcontent").hide();$(".shortcontent p:last",$this).css("margin-bottom",0)}})}})(jQuery);
(function(){var $,Age,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};$=jQuery;Age=function(){Age.settings={singular:1,interval:1E3,suffixes:{past:"",tiny:"",future:"until"},prefixes:{past:"",future:""},formats:{now:"now",singular:{seconds:"a second",minutes:"a minute",hours:"an hour",days:"a day",weeks:"a week",months:"a month",years:"a year"},plural:{seconds:"{{amount}} seconds",minutes:"{{amount}} minutes",hours:"{{amount}} hours",days:"{{amount}} days",weeks:"{{amount}} weeks",
months:"{{amount}} months",years:"{{amount}} years"},tiny:{seconds:"{{amount}}s",minutes:"{{amount}}m",hours:"{{amount}}h",days:"{{amount}}d",weeks:"{{amount}}w",months:"{{amount}}m",years:"{{amount}}y"}}};function Age($el,settings){if(settings==null)settings={};this.text=__bind(this.text,this);this.interval=__bind(this.interval,this);this.format=__bind(this.format,this);this.unit=__bind(this.unit,this);this.amount=__bind(this.amount,this);this.formatting=__bind(this.formatting,this);this.adjust=
__bind(this.adjust,this);this.prefix=__bind(this.prefix,this);this.suffix=__bind(this.suffix,this);this.date=__bind(this.date,this);this.reformat=__bind(this.reformat,this);this.$el=$el;this.settings=$.extend({},Age.settings,settings);this.reformat()}Age.prototype.reformat=function(){var interval;interval=this.interval();this.$el.html(this.text(interval));return setTimeout(this.reformat,this.settings.interval)};Age.prototype.date=function(){return new Date(this.$el.attr("datetime")||this.$el.attr("date")||
this.$el.attr("time"))};Age.prototype.suffix=function(interval){if(interval<0)return this.settings.suffixes.past;if(interval>0)return this.settings.suffixes.future};Age.prototype.prefix=function(interval){if(interval<0)return this.settings.prefixes.past;if(interval>0)return this.settings.prefixes.future};Age.prototype.adjust=function(interval,scale){return Math.floor(Math.abs(interval/scale))};Age.prototype.formatting=function(interval){return{seconds:this.adjust(interval,1E3),minutes:this.adjust(interval,
1E3*60),hours:this.adjust(interval,1E3*60*60),days:this.adjust(interval,1E3*60*60*24),weeks:this.adjust(interval,1E3*60*60*24*7),months:this.adjust(interval,1E3*60*60*24*30),years:this.adjust(interval,1E3*60*60*24*365)}};Age.prototype.amount=function(formatting){return formatting.years||formatting.months||formatting.weeks||formatting.days||formatting.hours||formatting.minutes||formatting.seconds||0};Age.prototype.unit=function(formatting){return formatting.years&&"years"||formatting.months&&"months"||
formatting.weeks&&"weeks"||formatting.days&&"days"||formatting.hours&&"hours"||formatting.minutes&&"minutes"||formatting.seconds&&"seconds"||void 0};Age.prototype.format=function(amount,unit){var _ref,_ref1;if(this.settings.style!=null)return(_ref=this.settings.formats[this.settings.style])!=null?_ref[unit]:void 0;return(_ref1=this.settings.formats[amount===this.settings.singular?"singular":"plural"])!=null?_ref1[unit]:void 0};Age.prototype.interval=function(){return this.date()-new Date};Age.prototype.text=
function(interval){var amount,format,formatting,prefix,suffix,unit;if(interval==null)interval=this.interval();if(interval>0&&this.settings.pending!=null)return this.settings.pending;if(interval<0&&this.settings.expired!=null)return this.settings.expired;suffix=this.suffix(interval);prefix=this.prefix(interval);formatting=this.formatting(interval);amount=this.amount(formatting);unit=this.unit(formatting);format=this.format(amount,unit);if(!format)return this.settings.formats.now;return(""+prefix+" "+
format.replace("{{unit}}",unit).replace("{{amount}}",amount)+" "+suffix).trim()};return Age}();$.fn.extend({age:function(options){if(options==null)options={};return this.each(function(){return new Age($(this),options)})}})}).call(this);
(function(factory){if(typeof define==="function"&&define.amd)define(["jquery"],factory);else if(typeof exports==="object")factory(require("jquery"));else factory(jQuery)})(function($){var pluses=/\+/g;function encode(s){return config.raw?s:encodeURIComponent(s)}function decode(s){return config.raw?s:decodeURIComponent(s)}function stringifyCookieValue(value){return encode(config.json?JSON.stringify(value):String(value))}function parseCookieValue(s){if(s.indexOf('"')===0)s=s.slice(1,-1).replace(/\\"/g,
'"').replace(/\\\\/g,"\\");try{s=decodeURIComponent(s.replace(pluses," "));return config.json?JSON.parse(s):s}catch(e){}}function read(s,converter){var value=config.raw?s:parseCookieValue(s);return $.isFunction(converter)?converter(value):value}var config=$.cookie=function(key,value,options){if(value!==undefined&&!$.isFunction(value)){options=$.extend({},config.defaults,options);if(typeof options.expires==="number"){var days=options.expires,t=options.expires=new Date;t.setTime(+t+days*864E5)}return document.cookie=
[encode(key),"=",stringifyCookieValue(value),options.expires?"; expires="+options.expires.toUTCString():"",options.path?"; path="+options.path:"",options.domain?"; domain="+options.domain:"",options.secure?"; secure":""].join("")}var result=key?undefined:{};var cookies=document.cookie?document.cookie.split("; "):[];for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split("=");var name=decode(parts.shift());var cookie=parts.join("=");if(key&&key===name){result=read(cookie,value);break}if(!key&&
(cookie=read(cookie))!==undefined)result[name]=cookie}return result};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)===undefined)return false;$.cookie(key,"",$.extend({},options,{expires:-1}));return!$.cookie(key)}});CLOSURE_NO_DEPS=true;window.onerror=function(message,url,lineNumber){return true};function close_menu(){document.getElementById("co_settings").style.display="none",document.getElementById("co_overlay").style.display="none"}
function close_bar(e){document.getElementById("notifications").style.display="none",e.style.display="none"}function setting_menu(){document.getElementById("co_settings").style.display="block",document.getElementById("co_overlay").style.display="block"}
function mast_head(e){"up"==e.className?(e.className="down",document.getElementById("banner").style.display="block"):"down"==e.className?(e.className="up",document.getElementById("banner").style.display="none"):("down"==e.className,document.getElementById("banner").style.display="block")}function htmlEntities(str){return String(str).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"")}
function ShowLogin(e){e.parentNode.removeChild(e),document.getElementById("g_login").style.visibility="visible"}function parse_theme(e){for(var t=document.getElementById("select").length,n=0;t>n;n++)document.getElementById("select").options[n].value==e&&(document.getElementById("select").selectedIndex=n,selectTheme(),ThemeCookie(e))}
function getCookie(e){var t,n,r,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(n=i[t].substr(0,i[t].indexOf("=")),r=i[t].substr(i[t].indexOf("=")+1),n=n.replace(/^\s|\s+$/g,""),n==e)return unescape(r)}function ThemeCookie(e){var t=getCookie("codeTheme");document.cookie=null!=t&&""!=t?"codeTheme ="+e+";path=/":"codeTheme ="+e+";path=/"}function eraseCookie(name){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}
function str_obf(e){var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n).toString(16);if(r.length==1)r="0"+r;t+=""+r}return t}function notifications(){var e=document.getElementById("notifications");var o=document.getElementById("notification_overlay");var iframe=$("#notification_iframe");iframe.attr("src",iframe.data("src"));if(e.style.display=="block"){e.style.display="none";o.style.display="none"}else{e.style.display="block";o.style.display="block"}return true}
function toggle_im(){if($("#im").css("bottom")=="0px")$("#im").animate({bottom:"-265px"},500);else $("#im").animate({bottom:"0px"},500)}function toggle_im_friends_list(){if($("#im_list").css("bottom")=="0px")$("#im_list").animate({bottom:"-265px"},500);else $("#im_list").animate({bottom:"0px"},500)}function remove_im_friends_list(){$.removeCookie("im",{path:"/"});$("#im_list").slideToggle("slow",function(){$(this).remove()})}
function remove_im(){$.removeCookie("im",{path:"/"});$("#im").slideToggle("slow",function(){$(this).remove()})}function createAlert(type,message){Messenger().post({message:message,type:type,hideAfter:10,hideOnNavigate:true})}
function pointsNeeded(action){$.ajax({type:"GET",url:"http://techberry.org/ajax/actions/",data:{"name":encodeURI(action)},dataType:"json",success:function(jsonData){var obj=jQuery.parseJSON(jsonData);createAlert("warning","Requires "+obj.points+"points");alert(obj.points);$(this).attr("onclick","createAlert('warning','Requires "+obj.points+"points')")},error:function(){createAlert("warning","Requires NaN points")}});return false}
function q(){Messenger().post({message:"Insufficient privileges",type:"info",hideAfter:10,hideOnNavigate:true});return false}function avatarLoadError(){this.src="//techberry.org/images/default.jpg";this.setAttribute("data-ot","Users avatar failed to load")}
function setNewsCommentParent(id){$("#parent_id").val(id);$("html, body").animate({scrollTop:$("#news_comment").offset().top-$("#g_h").height()},{complete:function(){$("#comment_textarea").animate({height:100},200)},duration:2E3});createAlert("success","Set comment reply")}console.log("Join Our Team!");function formhash(e,t){var n=document.createElement("input");e.appendChild(n);n.name="p";n.type="hidden";n.value=hex_sha512(t.value);t.value="";e.submit()}CLOSURE_NO_DEPS=true;
window.onerror=function(message,url,lineNumber){return true};function close_menu(){document.getElementById("co_settings").style.display="none",document.getElementById("co_overlay").style.display="none"}function close_bar(e){document.getElementById("notifications").style.display="none",e.style.display="none"}function setting_menu(){document.getElementById("co_settings").style.display="block",document.getElementById("co_overlay").style.display="block"}
function mast_head(e){"up"==e.className?(e.className="down",document.getElementById("banner").style.display="block"):"down"==e.className?(e.className="up",document.getElementById("banner").style.display="none"):("down"==e.className,document.getElementById("banner").style.display="block")}function htmlEntities(str){return String(str).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"")}
function ShowLogin(e){e.parentNode.removeChild(e),document.getElementById("g_login").style.visibility="visible"}function parse_theme(e){for(var t=document.getElementById("select").length,n=0;t>n;n++)document.getElementById("select").options[n].value==e&&(document.getElementById("select").selectedIndex=n,selectTheme(),ThemeCookie(e))}
function getCookie(e){var t,n,r,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(n=i[t].substr(0,i[t].indexOf("=")),r=i[t].substr(i[t].indexOf("=")+1),n=n.replace(/^\s|\s+$/g,""),n==e)return unescape(r)}function ThemeCookie(e){var t=getCookie("codeTheme");document.cookie=null!=t&&""!=t?"codeTheme ="+e+";path=/":"codeTheme ="+e+";path=/"}function eraseCookie(name){document.cookie=name+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"}
function str_obf(e){var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n).toString(16);if(r.length==1)r="0"+r;t+=""+r}return t}function notifications(){var e=document.getElementById("notifications");var o=document.getElementById("notification_overlay");var iframe=$("#notification_iframe");iframe.attr("src",iframe.data("src"));if(e.style.display=="block"){e.style.display="none";o.style.display="none"}else{e.style.display="block";o.style.display="block"}return true}
function toggle_im(){if($("#im").css("bottom")=="0px")$("#im").animate({bottom:"-265px"},500);else $("#im").animate({bottom:"0px"},500)}function toggle_im_friends_list(){if($("#im_list").css("bottom")=="0px")$("#im_list").animate({bottom:"-265px"},500);else $("#im_list").animate({bottom:"0px"},500)}function remove_im_friends_list(){$.removeCookie("im",{path:"/"});$("#im_list").slideToggle("slow",function(){$(this).remove()})}
function remove_im(){$.removeCookie("im",{path:"/"});$("#im").slideToggle("slow",function(){$(this).remove()})}function createAlert(type,message){Messenger().post({message:message,type:type,hideAfter:10,hideOnNavigate:true})}
function pointsNeeded(action){$.ajax({type:"GET",url:"http://techberry.org/ajax/actions/",data:{"name":encodeURI(action)},dataType:"json",success:function(jsonData){var obj=jQuery.parseJSON(jsonData);createAlert("warning","Requires "+obj.points+"points");alert(obj.points);$(this).attr("onclick","createAlert('warning','Requires "+obj.points+"points')")},error:function(){createAlert("warning","Requires NaN points")}});return false}
function q(){Messenger().post({message:"Insufficient privileges",type:"info",hideAfter:10,hideOnNavigate:true});return false}function avatarLoadError(){this.src="//techberry.org/images/default.jpg";this.setAttribute("data-ot","Users avatar failed to load")}
function setNewsCommentParent(id){$("#parent_id").val(id);$("html, body").animate({scrollTop:$("#news_comment").offset().top-$("#g_h").height()},{complete:function(){$("#comment_textarea").animate({height:100},200)},duration:2E3});createAlert("success","Set comment reply")}console.log("Join Our Team!");function hex_sha512(a){return rstr2hex(rstr_sha512(str2rstr_utf8(a)))}function b64_sha512(a){return rstr2b64(rstr_sha512(str2rstr_utf8(a)))}
function any_sha512(a,b){return rstr2any(rstr_sha512(str2rstr_utf8(a)),b)}function hex_hmac_sha512(a,b){return rstr2hex(rstr_hmac_sha512(str2rstr_utf8(a),str2rstr_utf8(b)))}function b64_hmac_sha512(a,b){return rstr2b64(rstr_hmac_sha512(str2rstr_utf8(a),str2rstr_utf8(b)))}function any_hmac_sha512(a,b,c){return rstr2any(rstr_hmac_sha512(str2rstr_utf8(a),str2rstr_utf8(b)),c)}
function sha512_vm_test(){return"ddaf35a193617abacc417349ae20413112e6fa4e89a97ea20a9eeee64b55d39a2192992a274fc1a836ba3c23a3feebbd454d4423643ce80e2a9ac94fa54ca49f"==hex_sha512("abc").toLowerCase()}function rstr_sha512(a){return binb2rstr(binb_sha512(rstr2binb(a),8*a.length))}
function rstr_hmac_sha512(a,b){var c=rstr2binb(a);c.length>32&&(c=binb_sha512(c,8*a.length));for(var d=Array(32),e=Array(32),f=0;32>f;f++)d[f]=909522486^c[f],e[f]=1549556828^c[f];var g=binb_sha512(d.concat(rstr2binb(b)),1024+8*b.length);return binb2rstr(binb_sha512(e.concat(g),1536))}function rstr2hex(a){try{}catch(b){hexcase=0}for(var e,c=hexcase?"0123456789ABCDEF":"0123456789abcdef",d="",f=0;f<a.length;f++)e=a.charCodeAt(f),d+=c.charAt(15&e>>>4)+c.charAt(15&e);return d}
function rstr2b64(a){try{}catch(b){b64pad=""}for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="",e=a.length,f=0;e>f;f+=3)for(var g=a.charCodeAt(f)<<16|(e>f+1?a.charCodeAt(f+1)<<8:0)|(e>f+2?a.charCodeAt(f+2):0),h=0;4>h;h++)d+=8*f+6*h>8*a.length?b64pad:c.charAt(63&g>>>6*(3-h));return d}
function rstr2any(a,b){var d,e,f,g,h,c=b.length,i=Array(Math.ceil(a.length/2));for(d=0;d<i.length;d++)i[d]=a.charCodeAt(2*d)<<8|a.charCodeAt(2*d+1);var j=Math.ceil(8*a.length/(Math.log(b.length)/Math.log(2))),k=Array(j);for(e=0;j>e;e++){for(h=Array(),g=0,d=0;d<i.length;d++)g=(g<<16)+i[d],f=Math.floor(g/c),g-=f*c,(h.length>0||f>0)&&(h[h.length]=f);k[e]=g,i=h}var l="";for(d=k.length-1;d>=0;d--)l+=b.charAt(k[d]);return l}
function str2rstr_utf8(a){for(var d,e,b="",c=-1;++c<a.length;)d=a.charCodeAt(c),e=c+1<a.length?a.charCodeAt(c+1):0,d>=55296&&56319>=d&&e>=56320&&57343>=e&&(d=65536+((1023&d)<<10)+(1023&e),c++),127>=d?b+=String.fromCharCode(d):2047>=d?b+=String.fromCharCode(192|31&d>>>6,128|63&d):65535>=d?b+=String.fromCharCode(224|15&d>>>12,128|63&d>>>6,128|63&d):2097151>=d&&(b+=String.fromCharCode(240|7&d>>>18,128|63&d>>>12,128|63&d>>>6,128|63&d));return b}
function str2rstr_utf16le(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c),255&a.charCodeAt(c)>>>8);return b}function str2rstr_utf16be(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(255&a.charCodeAt(c)>>>8,255&a.charCodeAt(c));return b}function rstr2binb(a){for(var b=Array(a.length>>2),c=0;c<b.length;c++)b[c]=0;for(var c=0;c<8*a.length;c+=8)b[c>>5]|=(255&a.charCodeAt(c/8))<<24-c%32;return b}
function binb2rstr(a){for(var b="",c=0;c<32*a.length;c+=8)b+=String.fromCharCode(255&a[c>>5]>>>24-c%32);return b}
function binb_sha512(a,b){void 0==sha512_k&&(sha512_k=new Array(new int64(1116352408,-685199838),new int64(1899447441,602891725),new int64(-1245643825,-330482897),new int64(-373957723,-2121671748),new int64(961987163,-213338824),new int64(1508970993,-1241133031),new int64(-1841331548,-1357295717),new int64(-1424204075,-630357736),new int64(-670586216,-1560083902),new int64(310598401,1164996542),new int64(607225278,1323610764),new int64(1426881987,-704662302),new int64(1925078388,-226784913),new int64(-2132889090,
991336113),new int64(-1680079193,633803317),new int64(-1046744716,-815192428),new int64(-459576895,-1628353838),new int64(-272742522,944711139),new int64(264347078,-1953704523),new int64(604807628,2007800933),new int64(770255983,1495990901),new int64(1249150122,1856431235),new int64(1555081692,-1119749164),new int64(1996064986,-2096016459),new int64(-1740746414,-295247957),new int64(-1473132947,766784016),new int64(-1341970488,-1728372417),new int64(-1084653625,-1091629340),new int64(-958395405,1034457026),
new int64(-710438585,-1828018395),new int64(113926993,-536640913),new int64(338241895,168717936),new int64(666307205,1188179964),new int64(773529912,1546045734),new int64(1294757372,1522805485),new int64(1396182291,-1651133473),new int64(1695183700,-1951439906),new int64(1986661051,1014477480),new int64(-2117940946,1206759142),new int64(-1838011259,344077627),new int64(-1564481375,1290863460),new int64(-1474664885,-1136513023),new int64(-1035236496,-789014639),new int64(-949202525,106217008),new int64(-778901479,
-688958952),new int64(-694614492,1432725776),new int64(-200395387,1467031594),new int64(275423344,851169720),new int64(430227734,-1194143544),new int64(506948616,1363258195),new int64(659060556,-544281703),new int64(883997877,-509917016),new int64(958139571,-976659869),new int64(1322822218,-482243893),new int64(1537002063,2003034995),new int64(1747873779,-692930397),new int64(1955562222,1575990012),new int64(2024104815,1125592928),new int64(-2067236844,-1578062990),new int64(-1933114872,442776044),
new int64(-1866530822,593698344),new int64(-1538233109,-561857047),new int64(-1090935817,-1295615723),new int64(-965641998,-479046869),new int64(-903397682,-366583396),new int64(-779700025,566280711),new int64(-354779690,-840897762),new int64(-176337025,-294727304),new int64(116418474,1914138554),new int64(174292421,-1563912026),new int64(289380356,-1090974290),new int64(460393269,320620315),new int64(685471733,587496836),new int64(852142971,1086792851),new int64(1017036298,365543100),new int64(1126000580,
-1676669620),new int64(1288033470,-885112138),new int64(1501505948,-60457430),new int64(1607167915,987167468),new int64(1816402316,1246189591)));var u,v,c=new Array(new int64(1779033703,-205731576),new int64(-1150833019,-2067093701),new int64(1013904242,-23791573),new int64(-1521486534,1595750129),new int64(1359893119,-1377402159),new int64(-1694144372,725511199),new int64(528734635,-79577749),new int64(1541459225,327033209)),d=new int64(0,0),e=new int64(0,0),f=new int64(0,0),g=new int64(0,0),h=new int64(0,
0),i=new int64(0,0),j=new int64(0,0),k=new int64(0,0),l=new int64(0,0),m=new int64(0,0),n=new int64(0,0),o=new int64(0,0),p=new int64(0,0),q=new int64(0,0),r=new int64(0,0),s=new int64(0,0),t=new int64(0,0),w=new Array(80);for(v=0;80>v;v++)w[v]=new int64(0,0);for(a[b>>5]|=128<<24-(31&b),a[(b+128>>10<<5)+31]=b,v=0;v<a.length;v+=32){for(int64copy(f,c[0]),int64copy(g,c[1]),int64copy(h,c[2]),int64copy(i,c[3]),int64copy(j,c[4]),int64copy(k,c[5]),int64copy(l,c[6]),int64copy(m,c[7]),u=0;16>u;u++)w[u].h=
a[v+2*u],w[u].l=a[v+2*u+1];for(u=16;80>u;u++)int64rrot(r,w[u-2],19),int64revrrot(s,w[u-2],29),int64shr(t,w[u-2],6),o.l=r.l^s.l^t.l,o.h=r.h^s.h^t.h,int64rrot(r,w[u-15],1),int64rrot(s,w[u-15],8),int64shr(t,w[u-15],7),n.l=r.l^s.l^t.l,n.h=r.h^s.h^t.h,int64add4(w[u],o,w[u-7],n,w[u-16]);for(u=0;80>u;u++)p.l=j.l&k.l^~j.l&l.l,p.h=j.h&k.h^~j.h&l.h,int64rrot(r,j,14),int64rrot(s,j,18),int64revrrot(t,j,9),o.l=r.l^s.l^t.l,o.h=r.h^s.h^t.h,int64rrot(r,f,28),int64revrrot(s,f,2),int64revrrot(t,f,7),n.l=r.l^s.l^t.l,
n.h=r.h^s.h^t.h,q.l=f.l&g.l^f.l&h.l^g.l&h.l,q.h=f.h&g.h^f.h&h.h^g.h&h.h,int64add5(d,m,o,p,sha512_k[u],w[u]),int64add(e,n,q),int64copy(m,l),int64copy(l,k),int64copy(k,j),int64add(j,i,d),int64copy(i,h),int64copy(h,g),int64copy(g,f),int64add(f,d,e);int64add(c[0],c[0],f),int64add(c[1],c[1],g),int64add(c[2],c[2],h),int64add(c[3],c[3],i),int64add(c[4],c[4],j),int64add(c[5],c[5],k),int64add(c[6],c[6],l),int64add(c[7],c[7],m)}var x=new Array(16);for(v=0;8>v;v++)x[2*v]=c[v].h,x[2*v+1]=c[v].l;return x}
function int64(a,b){this.h=a,this.l=b}function int64copy(a,b){a.h=b.h,a.l=b.l}function int64rrot(a,b,c){a.l=b.l>>>c|b.h<<32-c,a.h=b.h>>>c|b.l<<32-c}function int64revrrot(a,b,c){a.l=b.h>>>c|b.l<<32-c,a.h=b.l>>>c|b.h<<32-c}function int64shr(a,b,c){a.l=b.l>>>c|b.h<<32-c,a.h=b.h>>>c}function int64add(a,b,c){var d=(65535&b.l)+(65535&c.l),e=(b.l>>>16)+(c.l>>>16)+(d>>>16),f=(65535&b.h)+(65535&c.h)+(e>>>16),g=(b.h>>>16)+(c.h>>>16)+(f>>>16);a.l=65535&d|e<<16,a.h=65535&f|g<<16}
function int64add4(a,b,c,d,e){var f=(65535&b.l)+(65535&c.l)+(65535&d.l)+(65535&e.l),g=(b.l>>>16)+(c.l>>>16)+(d.l>>>16)+(e.l>>>16)+(f>>>16),h=(65535&b.h)+(65535&c.h)+(65535&d.h)+(65535&e.h)+(g>>>16),i=(b.h>>>16)+(c.h>>>16)+(d.h>>>16)+(e.h>>>16)+(h>>>16);a.l=65535&f|g<<16,a.h=65535&h|i<<16}
function int64add5(a,b,c,d,e,f){var g=(65535&b.l)+(65535&c.l)+(65535&d.l)+(65535&e.l)+(65535&f.l),h=(b.l>>>16)+(c.l>>>16)+(d.l>>>16)+(e.l>>>16)+(f.l>>>16)+(g>>>16),i=(65535&b.h)+(65535&c.h)+(65535&d.h)+(65535&e.h)+(65535&f.h)+(h>>>16),j=(b.h>>>16)+(c.h>>>16)+(d.h>>>16)+(e.h>>>16)+(f.h>>>16)+(i>>>16);a.l=65535&g|h<<16,a.h=65535&i|j<<16}var hexcase=0,b64pad="",sha512_k;
(function(window,document,undefined){var _html2canvas={},previousElement,computedCSS,html2canvas;function h2clog(a){if(_html2canvas.logging&&window.console&&window.console.log)window.console.log(a)}_html2canvas.Util={};_html2canvas.Util.backgroundImage=function(src){if(/data:image\/.*;base64,/i.test(src)||/^(-webkit|-moz|linear-gradient|-o-)/.test(src))return src;if(src.toLowerCase().substr(0,5)==='url("'){src=src.substr(5);src=src.substr(0,src.length-2)}else{src=src.substr(4);src=src.substr(0,src.length-
1)}return src};_html2canvas.Util.Bounds=function getBounds(el){var clientRect,bounds={};if(el.getBoundingClientRect){clientRect=el.getBoundingClientRect();bounds.top=clientRect.top;bounds.bottom=clientRect.bottom||clientRect.top+clientRect.height;bounds.left=clientRect.left;bounds.width=clientRect.width||clientRect.right-clientRect.left;bounds.height=clientRect.height||clientRect.bottom-clientRect.top;return bounds}};_html2canvas.Util.getCSS=function(el,attribute){var val;function toPX(attribute,
val){var rsLeft=el.runtimeStyle&&el.runtimeStyle[attribute],left,style=el.style;if(!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(val)&&/^-?\d/.test(val)){left=style.left;if(rsLeft)el.runtimeStyle.left=el.currentStyle.left;style.left=attribute==="fontSize"?"1em":val||0;val=style.pixelLeft+"px";style.left=left;if(rsLeft)el.runtimeStyle.left=rsLeft}if(!/^(thin|medium|thick)$/i.test(val))return Math.round(parseFloat(val))+"px";return val}if(window.getComputedStyle){if(previousElement!==el)computedCSS=document.defaultView.getComputedStyle(el,
null);val=computedCSS[attribute];if(attribute==="backgroundPosition"){val=(val.split(",")[0]||"0 0").split(" ");val[0]=val[0].indexOf("%")===-1?toPX(attribute+"X",val[0]):val[0];val[1]=val[1]===undefined?val[0]:val[1];val[1]=val[1].indexOf("%")===-1?toPX(attribute+"Y",val[1]):val[1]}}else if(el.currentStyle)if(attribute==="backgroundPosition")val=[toPX(attribute+"X",el.currentStyle[attribute+"X"]),toPX(attribute+"Y",el.currentStyle[attribute+"Y"])];else{val=toPX(attribute,el.currentStyle[attribute]);
if(/^(border)/i.test(attribute)&&/^(medium|thin|thick)$/i.test(val))switch(val){case "thin":val="1px";break;case "medium":val="0px";break;case "thick":val="5px";break}}return val};_html2canvas.Util.BackgroundPosition=function(el,bounds,image){var bgposition=_html2canvas.Util.getCSS(el,"backgroundPosition"),topPos,left,percentage,val;if(bgposition.length===1){val=bgposition;bgposition=[];bgposition[0]=val;bgposition[1]=val}if(bgposition[0].toString().indexOf("%")!==-1){percentage=parseFloat(bgposition[0])/
100;left=bounds.width*percentage-image.width*percentage}else left=parseInt(bgposition[0],10);if(bgposition[1].toString().indexOf("%")!==-1){percentage=parseFloat(bgposition[1])/100;topPos=bounds.height*percentage-image.height*percentage}else topPos=parseInt(bgposition[1],10);return{top:topPos,left:left}};_html2canvas.Util.Extend=function(options,defaults){for(var key in options)if(options.hasOwnProperty(key))defaults[key]=options[key];return defaults};_html2canvas.Util.Children=function(elem){var children;
try{children=elem.nodeName&&elem.nodeName.toUpperCase()==="IFRAME"?elem.contentDocument||elem.contentWindow.document:function(array){var ret=[];if(array!==null)(function(first,second){var i=first.length,j=0;if(typeof second.length==="number")for(var l=second.length;j<l;j++)first[i++]=second[j];else while(second[j]!==undefined)first[i++]=second[j++];first.length=i;return first})(ret,array);return ret}(elem.childNodes)}catch(ex){h2clog("html2canvas.Util.Children failed with exception: "+ex.message);
children=[]}return children};(function(){_html2canvas.Generate={};var reGradients=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z-]+)([\w\d\.\s,%\(\)]+)\)$/,
/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z-]+)([\w\d\.\s,%\(\)]+)\)$/];_html2canvas.Generate.parseGradient=function(css,bounds){var gradient,i,len=reGradients.length,m1,stop,m2,m2Len,step,m3;for(i=0;i<len;i+=1){m1=css.match(reGradients[i]);if(m1)break}if(m1)switch(m1[1]){case "-webkit-linear-gradient":case "-o-linear-gradient":gradient={type:"linear",x0:null,y0:null,x1:null,
y1:null,colorStops:[]};m2=m1[2].match(/\w+/g);if(m2){m2Len=m2.length;for(i=0;i<m2Len;i+=1)switch(m2[i]){case "top":gradient.y0=0;gradient.y1=bounds.height;break;case "right":gradient.x0=bounds.width;gradient.x1=0;break;case "bottom":gradient.y0=bounds.height;gradient.y1=0;break;case "left":gradient.x0=0;gradient.x1=bounds.width;break}}if(gradient.x0===null&&gradient.x1===null)gradient.x0=gradient.x1=bounds.width/2;if(gradient.y0===null&&gradient.y1===null)gradient.y0=gradient.y1=bounds.height/2;m2=
m1[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);if(m2){m2Len=m2.length;step=1/Math.max(m2Len-1,1);for(i=0;i<m2Len;i+=1){m3=m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);if(m3[2]){stop=parseFloat(m3[2]);if(m3[3]==="%")stop/=100;else stop/=bounds.width}else stop=i*step;gradient.colorStops.push({color:m3[1],stop:stop})}}break;case "-webkit-gradient":gradient={type:m1[2]==="radial"?"circle":m1[2],x0:0,
y0:0,x1:0,y1:0,colorStops:[]};m2=m1[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/);if(m2){gradient.x0=m2[1]*bounds.width/100;gradient.y0=m2[2]*bounds.height/100;gradient.x1=m2[3]*bounds.width/100;gradient.y1=m2[4]*bounds.height/100}m2=m1[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g);if(m2){m2Len=m2.length;for(i=0;i<m2Len;i+=1){m3=m2[i].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/);
stop=parseFloat(m3[2]);if(m3[1]==="from")stop=0;if(m3[1]==="to")stop=1;gradient.colorStops.push({color:m3[3],stop:stop})}}break;case "-moz-linear-gradient":gradient={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]};m2=m1[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);if(m2){gradient.x0=m2[1]*bounds.width/100;gradient.y0=m2[2]*bounds.height/100;gradient.x1=bounds.width-gradient.x0;gradient.y1=bounds.height-gradient.y0}m2=m1[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g);
if(m2){m2Len=m2.length;step=1/Math.max(m2Len-1,1);for(i=0;i<m2Len;i+=1){m3=m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/);if(m3[2]){stop=parseFloat(m3[2]);if(m3[3])stop/=100}else stop=i*step;gradient.colorStops.push({color:m3[1],stop:stop})}}break;case "-webkit-radial-gradient":case "-moz-radial-gradient":case "-o-radial-gradient":gradient={type:"circle",x0:0,y0:0,x1:bounds.width,y1:bounds.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]};m2=m1[2].match(/(\d{1,3})%?\s(\d{1,3})%?/);
if(m2){gradient.cx=m2[1]*bounds.width/100;gradient.cy=m2[2]*bounds.height/100}m2=m1[3].match(/\w+/);m3=m1[4].match(/[a-z-]*/);if(m2&&m3)switch(m3[0]){case "farthest-corner":case "cover":case "":var tl=Math.sqrt(Math.pow(gradient.cx,2)+Math.pow(gradient.cy,2));var tr=Math.sqrt(Math.pow(gradient.cx,2)+Math.pow(gradient.y1-gradient.cy,2));var br=Math.sqrt(Math.pow(gradient.x1-gradient.cx,2)+Math.pow(gradient.y1-gradient.cy,2));var bl=Math.sqrt(Math.pow(gradient.x1-gradient.cx,2)+Math.pow(gradient.cy,
2));gradient.rx=gradient.ry=Math.max(tl,tr,br,bl);break;case "closest-corner":var tl=Math.sqrt(Math.pow(gradient.cx,2)+Math.pow(gradient.cy,2));var tr=Math.sqrt(Math.pow(gradient.cx,2)+Math.pow(gradient.y1-gradient.cy,2));var br=Math.sqrt(Math.pow(gradient.x1-gradient.cx,2)+Math.pow(gradient.y1-gradient.cy,2));var bl=Math.sqrt(Math.pow(gradient.x1-gradient.cx,2)+Math.pow(gradient.cy,2));gradient.rx=gradient.ry=Math.min(tl,tr,br,bl);break;case "farthest-side":if(m2[0]==="circle")gradient.rx=gradient.ry=
Math.max(gradient.cx,gradient.cy,gradient.x1-gradient.cx,gradient.y1-gradient.cy);else{gradient.type=m2[0];gradient.rx=Math.max(gradient.cx,gradient.x1-gradient.cx);gradient.ry=Math.max(gradient.cy,gradient.y1-gradient.cy)}break;case "closest-side":case "contain":if(m2[0]==="circle")gradient.rx=gradient.ry=Math.min(gradient.cx,gradient.cy,gradient.x1-gradient.cx,gradient.y1-gradient.cy);else{gradient.type=m2[0];gradient.rx=Math.min(gradient.cx,gradient.x1-gradient.cx);gradient.ry=Math.min(gradient.cy,
gradient.y1-gradient.cy)}break}m2=m1[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g);if(m2){m2Len=m2.length;step=1/Math.max(m2Len-1,1);for(i=0;i<m2Len;i+=1){m3=m2[i].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/);if(m3[2]){stop=parseFloat(m3[2]);if(m3[3]==="%")stop/=100;else stop/=bounds.width}else stop=i*step;gradient.colorStops.push({color:m3[1],stop:stop})}}break}return gradient};_html2canvas.Generate.Gradient=
function(src,bounds){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d"),gradient,grad,i,len,img;canvas.width=bounds.width;canvas.height=bounds.height;gradient=_html2canvas.Generate.parseGradient(src,bounds);img=new Image;if(gradient)if(gradient.type==="linear"){grad=ctx.createLinearGradient(gradient.x0,gradient.y0,gradient.x1,gradient.y1);for(i=0,len=gradient.colorStops.length;i<len;i+=1)try{grad.addColorStop(gradient.colorStops[i].stop,gradient.colorStops[i].color)}catch(e){h2clog(["failed to add color stop: ",
e,"; tried to add: ",gradient.colorStops[i],"; stop: ",i,"; in: ",src])}ctx.fillStyle=grad;ctx.fillRect(0,0,bounds.width,bounds.height);img.src=canvas.toDataURL()}else if(gradient.type==="circle"){grad=ctx.createRadialGradient(gradient.cx,gradient.cy,0,gradient.cx,gradient.cy,gradient.rx);for(i=0,len=gradient.colorStops.length;i<len;i+=1)try{grad.addColorStop(gradient.colorStops[i].stop,gradient.colorStops[i].color)}catch(e){h2clog(["failed to add color stop: ",e,"; tried to add: ",gradient.colorStops[i],
"; stop: ",i,"; in: ",src])}ctx.fillStyle=grad;ctx.fillRect(0,0,bounds.width,bounds.height);img.src=canvas.toDataURL()}else if(gradient.type==="ellipse"){var canvasRadial=document.createElement("canvas"),ctxRadial=canvasRadial.getContext("2d"),ri=Math.max(gradient.rx,gradient.ry),di=ri*2,imgRadial;canvasRadial.width=canvasRadial.height=di;grad=ctxRadial.createRadialGradient(gradient.rx,gradient.ry,0,gradient.rx,gradient.ry,ri);for(i=0,len=gradient.colorStops.length;i<len;i+=1)try{grad.addColorStop(gradient.colorStops[i].stop,
gradient.colorStops[i].color)}catch(e){h2clog(["failed to add color stop: ",e,"; tried to add: ",gradient.colorStops[i],"; stop: ",i,"; in: ",src])}ctxRadial.fillStyle=grad;ctxRadial.fillRect(0,0,di,di);ctx.fillStyle=gradient.colorStops[i-1].color;ctx.fillRect(0,0,canvas.width,canvas.height);imgRadial=new Image;imgRadial.onload=function(){ctx.drawImage(imgRadial,gradient.cx-gradient.rx,gradient.cy-gradient.ry,2*gradient.rx,2*gradient.ry);img.src=canvas.toDataURL()};imgRadial.src=canvasRadial.toDataURL()}return img};
_html2canvas.Generate.ListAlpha=function(number){var tmp="",modulus;do{modulus=number%26;tmp=String.fromCharCode(modulus+64)+tmp;number=number/26}while(number*26>26);return tmp};_html2canvas.Generate.ListRoman=function(number){var romanArray=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],decimal=[1E3,900,500,400,100,90,50,40,10,9,5,4,1],roman="",v,len=romanArray.length;if(number<=0||number>=4E3)return number;for(v=0;v<len;v+=1)while(number>=decimal[v]){number-=decimal[v];roman+=romanArray[v]}return roman}})();
_html2canvas.Parse=function(images,options){window.scroll(0,0);var support={rangeBounds:false,svgRendering:options.svgRendering&&function(){var img=new Image,canvas=document.createElement("canvas"),ctx=canvas.getContext===undefined?false:canvas.getContext("2d");if(ctx===false)return false;canvas.width=canvas.height=10;img.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>",
"sup","</div>","</foreignObject>","</svg>"].join("");try{ctx.drawImage(img,0,0);canvas.toDataURL()}catch(e){return false}h2clog("html2canvas: Parse: SVG powered rendering available");return true}()},element=options.elements===undefined?document.body:options.elements[0],needReorder=false,numDraws=0,fontData={},doc=element.ownerDocument,ignoreElementsRegExp=new RegExp("("+options.ignoreElements+")"),body=doc.body,r,testElement,rangeBounds,rangeHeight,stack,ctx,docDim,i,children,childrenLen;function docSize(){return{width:Math.max(Math.max(doc.body.scrollWidth,
doc.documentElement.scrollWidth),Math.max(doc.body.offsetWidth,doc.documentElement.offsetWidth),Math.max(doc.body.clientWidth,doc.documentElement.clientWidth)),height:Math.max(Math.max(doc.body.scrollHeight,doc.documentElement.scrollHeight),Math.max(doc.body.offsetHeight,doc.documentElement.offsetHeight),Math.max(doc.body.clientHeight,doc.documentElement.clientHeight))}}images=images||{};if(doc.createRange){r=doc.createRange();if(r.getBoundingClientRect){testElement=doc.createElement("boundtest");
testElement.style.height="123px";testElement.style.display="block";body.appendChild(testElement);r.selectNode(testElement);rangeBounds=r.getBoundingClientRect();rangeHeight=rangeBounds.height;if(rangeHeight===123)support.rangeBounds=true;body.removeChild(testElement)}}var getCSS=_html2canvas.Util.getCSS;function getCSSInt(element,attribute){var val=parseInt(getCSS(element,attribute),10);return isNaN(val)?0:val}function renderRect(ctx,x,y,w,h,bgcolor){if(bgcolor!=="transparent"){ctx.setVariable("fillStyle",
bgcolor);ctx.fillRect(x,y,w,h);numDraws+=1}}function textTransform(text,transform){switch(transform){case "lowercase":return text.toLowerCase();case "capitalize":return text.replace(/(^|\s|:|-|\(|\))([a-z])/g,function(m,p1,p2){if(m.length>0)return p1+p2.toUpperCase()});case "uppercase":return text.toUpperCase();default:return text}}function trimText(text){return text.replace(/^\s*/g,"").replace(/\s*$/g,"")}function fontMetrics(font,fontSize){if(fontData[font+"-"+fontSize]!==undefined)return fontData[font+
"-"+fontSize];var container=doc.createElement("div"),img=doc.createElement("img"),span=doc.createElement("span"),baseline,middle,metricsObj;container.style.visibility="hidden";container.style.fontFamily=font;container.style.fontSize=fontSize;container.style.margin=0;container.style.padding=0;body.appendChild(container);img.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=";img.width=1;img.height=1;img.style.margin=0;img.style.padding=0;img.style.verticalAlign="baseline";
span.style.fontFamily=font;span.style.fontSize=fontSize;span.style.margin=0;span.style.padding=0;span.appendChild(doc.createTextNode("Hidden Text"));container.appendChild(span);container.appendChild(img);baseline=img.offsetTop-span.offsetTop+1;container.removeChild(span);container.appendChild(doc.createTextNode("Hidden Text"));container.style.lineHeight="normal";img.style.verticalAlign="super";middle=img.offsetTop-container.offsetTop+1;metricsObj={baseline:baseline,lineWidth:1,middle:middle};fontData[font+
"-"+fontSize]=metricsObj;body.removeChild(container);return metricsObj}function drawText(currentText,x,y,ctx){if(trimText(currentText).length>0){ctx.fillText(currentText,x,y);numDraws+=1}}function renderText(el,textNode,stack){var ctx=stack.ctx,family=getCSS(el,"fontFamily"),size=getCSS(el,"fontSize"),color=getCSS(el,"color"),text_decoration=getCSS(el,"textDecoration"),text_align=getCSS(el,"textAlign"),letter_spacing=getCSS(el,"letterSpacing"),bounds,text,metrics,renderList,listLen,bold=getCSS(el,
"fontWeight"),font_style=getCSS(el,"fontStyle"),font_variant=getCSS(el,"fontVariant"),align=false,newTextNode,textValue,textOffset=0,oldTextNode,c,range,parent,wrapElement,backupText;textNode.nodeValue=textTransform(textNode.nodeValue,getCSS(el,"textTransform"));text=trimText(textNode.nodeValue);if(text.length>0){if(text_decoration!=="none")metrics=fontMetrics(family,size);text_align=text_align.replace(["-webkit-auto"],["auto"]);if(options.letterRendering===false&&/^(left|right|justify|auto)$/.test(text_align)&&
/^(normal|none)$/.test(letter_spacing))renderList=textNode.nodeValue.split(/(\b| )/);else renderList=textNode.nodeValue.split("");switch(parseInt(bold,10)){case 401:bold="bold";break;case 400:bold="normal";break}ctx.setVariable("fillStyle",color);ctx.setVariable("font",font_style+" "+font_variant+" "+bold+" "+size+" "+family);if(align)ctx.setVariable("textAlign","right");else ctx.setVariable("textAlign","left");oldTextNode=textNode;for(c=0,listLen=renderList.length;c<listLen;c+=1){textValue=null;
if(support.rangeBounds){if(text_decoration!=="none"||trimText(renderList[c]).length!==0){textValue=renderList[c];if(doc.createRange){range=doc.createRange();range.setStart(textNode,textOffset);range.setEnd(textNode,textOffset+textValue.length)}else range=body.createTextRange();if(range.getBoundingClientRect())bounds=range.getBoundingClientRect();else bounds={}}}else{if(typeof oldTextNode.nodeValue!=="string")continue;newTextNode=oldTextNode.splitText(renderList[c].length);parent=oldTextNode.parentNode;
wrapElement=doc.createElement("wrapper");backupText=oldTextNode.cloneNode(true);wrapElement.appendChild(oldTextNode.cloneNode(true));parent.replaceChild(wrapElement,oldTextNode);bounds=_html2canvas.Util.Bounds(wrapElement);textValue=oldTextNode.nodeValue;oldTextNode=newTextNode;parent.replaceChild(backupText,wrapElement)}if(textValue!==null)drawText(textValue,bounds.left,bounds.bottom,ctx);switch(text_decoration){case "underline":renderRect(ctx,bounds.left,Math.round(bounds.top+metrics.baseline+metrics.lineWidth),
bounds.width,1,color);break;case "overline":renderRect(ctx,bounds.left,bounds.top,bounds.width,1,color);break;case "line-through":renderRect(ctx,bounds.left,Math.ceil(bounds.top+metrics.middle+metrics.lineWidth),bounds.width,1,color);break}textOffset+=renderList[c].length}}}function listPosition(element,val){var boundElement=doc.createElement("boundelement"),type,bounds;boundElement.style.display="inline";type=element.style.listStyleType;element.style.listStyleType="none";boundElement.appendChild(doc.createTextNode(val));
element.insertBefore(boundElement,element.firstChild);bounds=_html2canvas.Util.Bounds(boundElement);element.removeChild(boundElement);element.style.listStyleType=type;return bounds}function elementIndex(el){var i=-1,count=1,childs=el.parentNode.childNodes;if(el.parentNode){while(childs[++i]!==el)if(childs[i].nodeType===1)count++;return count}else return-1}function renderListItem(element,stack,elBounds){var position=getCSS(element,"listStylePosition"),x,y,type=getCSS(element,"listStyleType"),currentIndex,
text,listBounds,bold=getCSS(element,"fontWeight");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(type)){currentIndex=elementIndex(element);switch(type){case "decimal":text=currentIndex;break;case "decimal-leading-zero":if(currentIndex.toString().length===1)text=currentIndex="0"+currentIndex.toString();else text=currentIndex.toString();break;case "upper-roman":text=_html2canvas.Generate.ListRoman(currentIndex);break;case "lower-roman":text=
_html2canvas.Generate.ListRoman(currentIndex).toLowerCase();break;case "lower-alpha":text=_html2canvas.Generate.ListAlpha(currentIndex).toLowerCase();break;case "upper-alpha":text=_html2canvas.Generate.ListAlpha(currentIndex);break}text+=". ";listBounds=listPosition(element,text);switch(bold){case 401:bold="bold";break;case 400:bold="normal";break}ctx.setVariable("fillStyle",getCSS(element,"color"));ctx.setVariable("font",getCSS(element,"fontVariant")+" "+bold+" "+getCSS(element,"fontStyle")+" "+
getCSS(element,"fontSize")+" "+getCSS(element,"fontFamily"));if(position==="inside"){ctx.setVariable("textAlign","left");x=elBounds.left}else return;y=listBounds.bottom;drawText(text,x,y,ctx)}}function loadImage(src){var img=images[src];if(img&&img.succeeded===true)return img.img;else return false}function clipBounds(src,dst){var x=Math.max(src.left,dst.left),y=Math.max(src.top,dst.top),x2=Math.min(src.left+src.width,dst.left+dst.width),y2=Math.min(src.top+src.height,dst.top+dst.height);return{left:x,
top:y,width:x2-x,height:y2-y}}function setZ(zIndex,parentZ){var newContext;if(!parentZ){newContext=h2czContext(0);return newContext}if(zIndex!=="auto"){needReorder=true;newContext=h2czContext(zIndex);parentZ.children.push(newContext);return newContext}return parentZ}function renderBorders(el,ctx,bounds,clip){var x=bounds.left,y=bounds.top,w=bounds.width,h=bounds.height,borderSide,borderData,bx,by,bw,bh,borderBounds,borders=function(el){var borders=[],sides=["Top","Right","Bottom","Left"],s;for(s=
0;s<4;s+=1)borders.push({width:getCSSInt(el,"border"+sides[s]+"Width"),color:getCSS(el,"border"+sides[s]+"Color")});return borders}(el);for(borderSide=0;borderSide<4;borderSide+=1){borderData=borders[borderSide];if(borderData.width>0){bx=x;by=y;bw=w;bh=h-borders[2].width;switch(borderSide){case 0:bh=borders[0].width;break;case 1:bx=x+w-borders[1].width;bw=borders[1].width;break;case 2:by=by+h-borders[2].width;bh=borders[2].width;break;case 3:bw=borders[3].width;break}borderBounds={left:bx,top:by,
width:bw,height:bh};if(clip)borderBounds=clipBounds(borderBounds,clip);if(borderBounds.width>0&&borderBounds.height>0)renderRect(ctx,bx,by,borderBounds.width,borderBounds.height,borderData.color)}}return borders}function renderFormValue(el,bounds,stack){var valueWrap=doc.createElement("valuewrap"),cssArr=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"],i,textValue,textNode,arrLen,style;for(i=0,arrLen=
cssArr.length;i<arrLen;i+=1){style=cssArr[i];try{valueWrap.style[style]=getCSS(el,style)}catch(e){h2clog("html2canvas: Parse: Exception caught in renderFormValue: "+e.message)}}valueWrap.style.borderColor="black";valueWrap.style.borderStyle="solid";valueWrap.style.display="block";valueWrap.style.position="absolute";if(/^(submit|reset|button|text|password)$/.test(el.type)||el.nodeName==="SELECT")valueWrap.style.lineHeight=getCSS(el,"height");valueWrap.style.top=bounds.top+"px";valueWrap.style.left=
bounds.left+"px";if(el.nodeName==="SELECT")textValue=el.options[el.selectedIndex].text;else textValue=el.value;textNode=doc.createTextNode(textValue);valueWrap.appendChild(textNode);body.appendChild(valueWrap);renderText(el,textNode,stack);body.removeChild(valueWrap)}function renderImage(ctx,image,sx,sy,sw,sh,dx,dy,dw,dh){ctx.drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh);numDraws+=1}function renderBackgroundRepeat(ctx,image,x,y,width,height,elx,ely){var sourceX=0,sourceY=0;if(elx-x>0)sourceX=elx-x;if(ely-
y>0)sourceY=ely-y;renderImage(ctx,image,sourceX,sourceY,width-sourceX,height-sourceY,x+sourceX,y+sourceY,width-sourceX,height-sourceY)}function renderBackgroundRepeatY(ctx,image,bgp,x,y,w,h){var height,width=Math.min(image.width,w),bgy;bgp.top=bgp.top-Math.ceil(bgp.top/image.height)*image.height;for(bgy=y+bgp.top;bgy<h+y;){if(Math.floor(bgy+image.height)>h+y)height=h+y-bgy;else height=image.height;renderBackgroundRepeat(ctx,image,x+bgp.left,bgy,width,height,x,y);bgy=Math.floor(bgy+image.height)}}
function renderBackgroundRepeatX(ctx,image,bgp,x,y,w,h){var height=Math.min(image.height,h),width,bgx;bgp.left=bgp.left-Math.ceil(bgp.left/image.width)*image.width;for(bgx=x+bgp.left;bgx<w+x;){if(Math.floor(bgx+image.width)>w+x)width=w+x-bgx;else width=image.width;renderBackgroundRepeat(ctx,image,bgx,y+bgp.top,width,height,x,y);bgx=Math.floor(bgx+image.width)}}function renderBackground(el,bounds,ctx){var background_image=getCSS(el,"backgroundImage"),background_repeat=getCSS(el,"backgroundRepeat").split(",")[0],
image,bgp,bgy,bgw,bgsx,bgsy,bgdx,bgdy,bgh,h,height,add;if(!/data:image\/.*;base64,/i.test(background_image)&&!/^(-webkit|-moz|linear-gradient|-o-)/.test(background_image))background_image=background_image.split(",")[0];if(typeof background_image!=="undefined"&&/^(1|none)$/.test(background_image)===false){background_image=_html2canvas.Util.backgroundImage(background_image);image=loadImage(background_image);bgp=_html2canvas.Util.BackgroundPosition(el,bounds,image);if(image)switch(background_repeat){case "repeat-x":renderBackgroundRepeatX(ctx,
image,bgp,bounds.left,bounds.top,bounds.width,bounds.height);break;case "repeat-y":renderBackgroundRepeatY(ctx,image,bgp,bounds.left,bounds.top,bounds.width,bounds.height);break;case "no-repeat":bgw=bounds.width-bgp.left;bgh=bounds.height-bgp.top;bgsx=bgp.left;bgsy=bgp.top;bgdx=bgp.left+bounds.left;bgdy=bgp.top+bounds.top;if(bgsx<0){bgsx=Math.abs(bgsx);bgdx+=bgsx;bgw=Math.min(bounds.width,image.width-bgsx)}else{bgw=Math.min(bgw,image.width);bgsx=0}if(bgsy<0){bgsy=Math.abs(bgsy);bgdy+=bgsy;bgh=Math.min(bounds.height,
image.height-bgsy)}else{bgh=Math.min(bgh,image.height);bgsy=0}if(bgh>0&&bgw>0)renderImage(ctx,image,bgsx,bgsy,bgw,bgh,bgdx,bgdy,bgw,bgh);break;default:bgp.top=bgp.top-Math.ceil(bgp.top/image.height)*image.height;for(bgy=bounds.top+bgp.top;bgy<bounds.height+bounds.top;){h=Math.min(image.height,bounds.height+bounds.top-bgy);if(Math.floor(bgy+image.height)>h+bgy)height=h+bgy-bgy;else height=image.height;if(bgy<bounds.top){add=bounds.top-bgy;bgy=bounds.top}else add=0;renderBackgroundRepeatX(ctx,image,
bgp,bounds.left,bgy,bounds.width,height);if(add>0)bgp.top+=add;bgy=Math.floor(bgy+image.height)-add}break}else h2clog("html2canvas: Error loading background:"+background_image)}}function renderElement(el,parentStack){var bounds=_html2canvas.Util.Bounds(el),x=bounds.left,y=bounds.top,w=bounds.width,h=bounds.height,image,bgcolor=getCSS(el,"backgroundColor"),cssPosition=getCSS(el,"position"),zindex,opacity=getCSS(el,"opacity"),stack,stackLength,borders,ctx,bgbounds,imgSrc,paddingLeft,paddingTop,paddingRight,
paddingBottom;if(!parentStack){docDim=docSize();parentStack={opacity:1}}else docDim={};zindex=setZ(getCSS(el,"zIndex"),parentStack.zIndex);stack={ctx:h2cRenderContext(docDim.width||w,docDim.height||h),zIndex:zindex,opacity:opacity*parentStack.opacity,cssPosition:cssPosition};if(parentStack.clip)stack.clip=_html2canvas.Util.Extend({},parentStack.clip);if(options.useOverflow===true&&/(hidden|scroll|auto)/.test(getCSS(el,"overflow"))===true&&/(BODY)/i.test(el.nodeName)===false)if(stack.clip)stack.clip=
clipBounds(stack.clip,bounds);else stack.clip=bounds;stackLength=zindex.children.push(stack);ctx=zindex.children[stackLength-1].ctx;ctx.setVariable("globalAlpha",stack.opacity);borders=renderBorders(el,ctx,bounds,false);stack.borders=borders;if(ignoreElementsRegExp.test(el.nodeName)&&options.iframeDefault!=="transparent")if(options.iframeDefault==="default")bgcolor="#efefef";else bgcolor=options.iframeDefault;bgbounds={left:x+borders[3].width,top:y+borders[0].width,width:w-(borders[1].width+borders[3].width),
height:h-(borders[0].width+borders[2].width)};if(stack.clip)bgbounds=clipBounds(bgbounds,stack.clip);if(bgbounds.height>0&&bgbounds.width>0){renderRect(ctx,bgbounds.left,bgbounds.top,bgbounds.width,bgbounds.height,bgcolor);renderBackground(el,bgbounds,ctx)}switch(el.nodeName){case "IMG":imgSrc=el.getAttribute("src");image=loadImage(imgSrc);if(image){paddingLeft=getCSSInt(el,"paddingLeft");paddingTop=getCSSInt(el,"paddingTop");paddingRight=getCSSInt(el,"paddingRight");paddingBottom=getCSSInt(el,"paddingBottom");
renderImage(ctx,image,0,0,image.width,image.height,x+paddingLeft+borders[3].width,y+paddingTop+borders[0].width,bounds.width-(borders[1].width+borders[3].width+paddingLeft+paddingRight),bounds.height-(borders[0].width+borders[2].width+paddingTop+paddingBottom))}else h2clog("html2canvas: Error loading <img>:"+imgSrc);break;case "INPUT":if(/^(text|url|email|submit|button|reset)$/.test(el.type)&&el.value.length>0)renderFormValue(el,bounds,stack);break;case "TEXTAREA":if(el.value.length>0)renderFormValue(el,
bounds,stack);break;case "SELECT":if(el.options.length>0)renderFormValue(el,bounds,stack);break;case "LI":renderListItem(el,stack,bgbounds);break;case "CANVAS":paddingLeft=getCSSInt(el,"paddingLeft");paddingTop=getCSSInt(el,"paddingTop");paddingRight=getCSSInt(el,"paddingRight");paddingBottom=getCSSInt(el,"paddingBottom");renderImage(ctx,el,0,0,el.width,el.height,x+paddingLeft+borders[3].width,y+paddingTop+borders[0].width,bounds.width-(borders[1].width+borders[3].width+paddingLeft+paddingRight),
bounds.height-(borders[0].width+borders[2].width+paddingTop+paddingBottom));break}return zindex.children[stackLength-1]}function parseElement(el,stack){if(getCSS(el,"display")!=="none"&&getCSS(el,"visibility")!=="hidden"){stack=renderElement(el,stack)||stack;ctx=stack.ctx;if(!ignoreElementsRegExp.test(el.nodeName)){var elementChildren=_html2canvas.Util.Children(el),i,node,childrenLen;for(i=0,childrenLen=elementChildren.length;i<childrenLen;i+=1){node=elementChildren[i];if(node.nodeType===1)parseElement(node,
stack);else if(node.nodeType===3)renderText(el,node,stack)}}}}stack=renderElement(element,null);if(support.svgRendering)(function(body){var img=new Image,size=docSize(),html="";function parseDOM(el){var children=_html2canvas.Util.Children(el),len=children.length,attr,a,alen,elm,i;for(i=0;i<len;i+=1){elm=children[i];if(elm.nodeType===3)html+=elm.nodeValue.replace(/\</g,"&lt;").replace(/\>/g,"&gt;");else if(elm.nodeType===1)if(!/^(script|meta|title)$/.test(elm.nodeName.toLowerCase())){html+="<"+elm.nodeName.toLowerCase();
if(elm.hasAttributes()){attr=elm.attributes;alen=attr.length;for(a=0;a<alen;a+=1)html+=" "+attr[a].name+'="'+attr[a].value+'"'}html+=">";parseDOM(elm);html+="</"+elm.nodeName.toLowerCase()+">"}}}parseDOM(body);img.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='"+size.width+"' height='"+size.height+"'>","<foreignObject width='"+size.width+"' height='"+size.height+"'>","<html xmlns='http://www.w3.org/1999/xhtml' style='margin:0;'>",html.replace(/\#/g,"%23"),
"</html>","</foreignObject>","</svg>"].join("");img.onload=function(){stack.svgRender=img}})(document.documentElement);for(i=0,children=element.children,childrenLen=children.length;i<childrenLen;i+=1)parseElement(children[i],stack);stack.backgroundColor=getCSS(document.documentElement,"backgroundColor");return stack};function h2czContext(zindex){return{zindex:zindex,children:[]}}_html2canvas.Preload=function(options){var images={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:false},pageOrigin,methods,
i,count=0,element=options.elements[0]||document.body,doc=element.ownerDocument,domImages=doc.images,imgLen=domImages.length,link=doc.createElement("a"),supportCORS=function(img){return img.crossOrigin!==undefined}(new Image),timeoutTimer;link.href=window.location.href;pageOrigin=link.protocol+link.host;function isSameOrigin(url){link.href=url;link.href=link.href;var origin=link.protocol+link.host;return origin===pageOrigin}function start(){h2clog("html2canvas: start: images: "+images.numLoaded+" / "+
images.numTotal+" (failed: "+images.numFailed+")");if(!images.firstRun&&images.numLoaded>=images.numTotal){h2clog("Finished loading images: # "+images.numTotal+" (failed: "+images.numFailed+")");if(typeof options.complete==="function")options.complete(images)}}function proxyGetImage(url,img,imageObj){var callback_name,scriptUrl=options.proxy,script;link.href=url;url=link.href;callback_name="html2canvas_"+count++;imageObj.callbackname=callback_name;if(scriptUrl.indexOf("?")>-1)scriptUrl+="&";else scriptUrl+=
"?";scriptUrl+="url="+encodeURIComponent(url)+"&callback="+callback_name;script=doc.createElement("script");window[callback_name]=function(a){if(a.substring(0,6)==="error:"){imageObj.succeeded=false;images.numLoaded++;images.numFailed++;start()}else{setImageLoadHandlers(img,imageObj);img.src=a}window[callback_name]=undefined;try{delete window[callback_name]}catch(ex){}script.parentNode.removeChild(script);script=null;delete imageObj.script;delete imageObj.callbackname};script.setAttribute("type",
"text/javascript");script.setAttribute("src",scriptUrl);imageObj.script=script;window.document.body.appendChild(script)}function getImages(el){var contents=_html2canvas.Util.Children(el),i,background_image,src,img,elNodeType=false;try{var contentsLen=contents.length;for(i=0;i<contentsLen;i+=1)getImages(contents[i])}catch(e){}try{elNodeType=el.nodeType}catch(ex){elNodeType=false;h2clog("html2canvas: failed to access some element's nodeType - Exception: "+ex.message)}if(elNodeType===1||elNodeType===
undefined){try{background_image=_html2canvas.Util.getCSS(el,"backgroundImage")}catch(e){h2clog("html2canvas: failed to get background-image - Exception: "+e.message)}if(background_image&&background_image!=="1"&&background_image!=="none")if(/^(-webkit|-o|-moz|-ms|linear)-/.test(background_image)){img=_html2canvas.Generate.Gradient(background_image,_html2canvas.Util.Bounds(el));if(img!==undefined){images[background_image]={img:img,succeeded:true};images.numTotal++;images.numLoaded++;start()}}else{src=
_html2canvas.Util.backgroundImage(background_image.match(/data:image\/.*;base64,/i)?background_image:background_image.split(",")[0]);methods.loadImage(src)}}}function setImageLoadHandlers(img,imageObj){img.onload=function(){if(imageObj.timer!==undefined)window.clearTimeout(imageObj.timer);images.numLoaded++;imageObj.succeeded=true;img.onerror=img.onload=null;start()};img.onerror=function(){if(img.crossOrigin==="anonymous"){window.clearTimeout(imageObj.timer);if(options.proxy){var src=img.src;img=
new Image;imageObj.img=img;img.src=src;proxyGetImage(img.src,img,imageObj);return}}images.numLoaded++;images.numFailed++;imageObj.succeeded=false;img.onerror=img.onload=null;start()}}methods={loadImage:function(src){var img,imageObj;if(src&&images[src]===undefined){img=new Image;if(src.match(/data:image\/.*;base64,/i)){img.src=src.replace(/url\(['"]{0,}|['"]{0,}\)$/ig,"");imageObj=images[src]={img:img};images.numTotal++;setImageLoadHandlers(img,imageObj)}else if(isSameOrigin(src)||options.allowTaint===
true){imageObj=images[src]={img:img};images.numTotal++;setImageLoadHandlers(img,imageObj);img.src=src}else if(supportCORS&&!options.allowTaint&&options.useCORS){img.crossOrigin="anonymous";imageObj=images[src]={img:img};images.numTotal++;setImageLoadHandlers(img,imageObj);img.src=src;img.customComplete=function(){if(!this.img.complete)this.timer=window.setTimeout(this.img.customComplete,100);else this.img.onerror()}.bind(imageObj);img.customComplete()}else if(options.proxy){imageObj=images[src]={img:img};
images.numTotal++;proxyGetImage(src,img,imageObj)}}},cleanupDOM:function(cause){var img,src;if(!images.cleanupDone){if(cause&&typeof cause==="string")h2clog("html2canvas: Cleanup because: "+cause);else h2clog("html2canvas: Cleanup after timeout: "+options.timeout+" ms.");for(src in images)if(images.hasOwnProperty(src)){img=images[src];if(typeof img==="object"&&img.callbackname&&img.succeeded===undefined){window[img.callbackname]=undefined;try{delete window[img.callbackname]}catch(ex){}if(img.script&&
img.script.parentNode){img.script.setAttribute("src","about:blank");img.script.parentNode.removeChild(img.script)}images.numLoaded++;images.numFailed++;h2clog("html2canvas: Cleaned up failed img: '"+src+"' Steps: "+images.numLoaded+" / "+images.numTotal)}}if(window.stop!==undefined)window.stop();else if(document.execCommand!==undefined)document.execCommand("Stop",false);if(document.close!==undefined)document.close();images.cleanupDone=true;if(!(cause&&typeof cause==="string"))start()}},renderingDone:function(){if(timeoutTimer)window.clearTimeout(timeoutTimer)}};
if(options.timeout>0)timeoutTimer=window.setTimeout(methods.cleanupDOM,options.timeout);h2clog("html2canvas: Preload starts: finding background-images");images.firstRun=true;getImages(element);h2clog("html2canvas: Preload: Finding images");for(i=0;i<imgLen;i+=1)methods.loadImage(domImages[i].getAttribute("src"));images.firstRun=false;h2clog("html2canvas: Preload: Done.");if(images.numTotal===images.numLoaded)start();return methods};function h2cRenderContext(width,height){var storage=[];return{storage:storage,
width:width,height:height,fillRect:function(){storage.push({type:"function",name:"fillRect","arguments":arguments})},drawImage:function(){storage.push({type:"function",name:"drawImage","arguments":arguments})},fillText:function(){storage.push({type:"function",name:"fillText","arguments":arguments})},setVariable:function(variable,value){storage.push({type:"variable",name:variable,"arguments":value})}}}_html2canvas.Renderer=function(parseQueue,options){var queue=[];function sortZ(zStack){var subStacks=
[],stackValues=[],zStackChildren=zStack.children,s,i,stackLen,zValue,zLen,stackChild,b,subStackLen;for(s=0,zLen=zStackChildren.length;s<zLen;s+=1){stackChild=zStackChildren[s];if(stackChild.children&&stackChild.children.length>0){subStacks.push(stackChild);stackValues.push(stackChild.zindex)}else queue.push(stackChild)}stackValues.sort(function(a,b){return a-b});for(i=0,stackLen=stackValues.length;i<stackLen;i+=1){zValue=stackValues[i];for(b=0,subStackLen=subStacks.length;b<=subStackLen;b+=1)if(subStacks[b].zindex===
zValue){stackChild=subStacks.splice(b,1);sortZ(stackChild[0]);break}}}sortZ(parseQueue.zIndex);if(typeof options._renderer._create!=="function")throw new Error("Invalid renderer defined");return options._renderer._create(parseQueue,options,document,queue,_html2canvas)};html2canvas=function(elements,opts){var queue,canvas,options={logging:false,elements:elements,proxy:"http://html2canvas.appspot.com/",timeout:0,useCORS:false,allowTaint:false,svgRendering:false,iframeDefault:"default",ignoreElements:"IFRAME|OBJECT|PARAM",
useOverflow:true,letterRendering:false,flashcanvas:undefined,width:null,height:null,taintTest:true,renderer:"Canvas"},renderer;options=_html2canvas.Util.Extend(opts,options);if(typeof options.renderer==="string"&&_html2canvas.Renderer[options.renderer]!==undefined)options._renderer=_html2canvas.Renderer[options.renderer](options);else if(typeof options.renderer==="function")options._renderer=options.renderer(options);else throw"Unknown renderer";_html2canvas.logging=options.logging;options.complete=
function(images){if(typeof options.onpreloaded==="function")if(options.onpreloaded(images)===false)return;queue=_html2canvas.Parse(images,options);if(typeof options.onparsed==="function")if(options.onparsed(queue)===false)return;canvas=_html2canvas.Renderer(queue,options);if(typeof options.onrendered==="function")options.onrendered(canvas)};window.setTimeout(function(){_html2canvas.Preload(options)},0);return{render:function(queue,opts){return _html2canvas.Renderer(queue,_html2canvas.Util.Extend(opts,
options))},parse:function(images,opts){return _html2canvas.Parse(images,_html2canvas.Util.Extend(opts,options))},preload:function(opts){return _html2canvas.Preload(_html2canvas.Util.Extend(opts,options))},log:h2clog}};html2canvas.log=h2clog;html2canvas.Renderer={Canvas:undefined};_html2canvas.Renderer.Canvas=function(options){options=options||{};var doc=document,canvas=options.canvas||doc.createElement("canvas"),usingFlashcanvas=false,_createCalled=false,canvasReadyToDraw=false,methods,flashMaxSize=
2880;if(canvas.getContext){h2clog("html2canvas: Renderer: using canvas renderer");canvasReadyToDraw=true}else if(options.flashcanvas!==undefined){usingFlashcanvas=true;h2clog("html2canvas: Renderer: canvas not available, using flashcanvas");var script=doc.createElement("script");script.src=options.flashcanvas;script.onload=function(script,func){var intervalFunc;if(script.onload===undefined)if(script.onreadystatechange!==undefined){intervalFunc=function(){if(script.readyState!=="loaded"&&script.readyState!==
"complete")window.setTimeout(intervalFunc,250);else func()};window.setTimeout(intervalFunc,250)}else h2clog("html2canvas: Renderer: Can't track when flashcanvas is loaded");else return func}(script,function(){if(typeof window.FlashCanvas!=="undefined"){h2clog("html2canvas: Renderer: Flashcanvas initialized");window.FlashCanvas.initElement(canvas);canvasReadyToDraw=true;if(_createCalled!==false)methods._create.apply(null,_createCalled)}});doc.body.appendChild(script)}methods={_create:function(zStack,
options,doc,queue,_html2canvas){if(!canvasReadyToDraw){_createCalled=arguments;return canvas}var ctx=canvas.getContext("2d"),storageContext,i,queueLen,a,newCanvas,bounds,testCanvas=document.createElement("canvas"),hasCTX=testCanvas.getContext!==undefined,storageLen,renderItem,testctx=hasCTX?testCanvas.getContext("2d"):{},safeImages=[],fstyle;canvas.width=canvas.style.width=!usingFlashcanvas?options.width||zStack.ctx.width:Math.min(flashMaxSize,options.width||zStack.ctx.width);canvas.height=canvas.style.height=
!usingFlashcanvas?options.height||zStack.ctx.height:Math.min(flashMaxSize,options.height||zStack.ctx.height);fstyle=ctx.fillStyle;ctx.fillStyle=zStack.backgroundColor;ctx.fillRect(0,0,canvas.width,canvas.height);ctx.fillStyle=fstyle;if(options.svgRendering&&zStack.svgRender!==undefined)ctx.drawImage(zStack.svgRender,0,0);else for(i=0,queueLen=queue.length;i<queueLen;i+=1){storageContext=queue.splice(0,1)[0];storageContext.canvasPosition=storageContext.canvasPosition||{};ctx.textBaseline="bottom";
if(storageContext.clip){ctx.save();ctx.beginPath();ctx.rect(storageContext.clip.left,storageContext.clip.top,storageContext.clip.width,storageContext.clip.height);ctx.clip()}if(storageContext.ctx.storage)for(a=0,storageLen=storageContext.ctx.storage.length;a<storageLen;a+=1){renderItem=storageContext.ctx.storage[a];switch(renderItem.type){case "variable":ctx[renderItem.name]=renderItem["arguments"];break;case "function":if(renderItem.name==="fillRect"){if(!usingFlashcanvas||renderItem["arguments"][0]+
renderItem["arguments"][2]<flashMaxSize&&renderItem["arguments"][1]+renderItem["arguments"][3]<flashMaxSize)ctx.fillRect.apply(ctx,renderItem["arguments"])}else if(renderItem.name==="fillText"){if(!usingFlashcanvas||renderItem["arguments"][1]<flashMaxSize&&renderItem["arguments"][2]<flashMaxSize)ctx.fillText.apply(ctx,renderItem["arguments"])}else if(renderItem.name==="drawImage")if(renderItem["arguments"][8]>0&&renderItem["arguments"][7]){if(hasCTX&&options.taintTest)if(safeImages.indexOf(renderItem["arguments"][0].src)===
-1){testctx.drawImage(renderItem["arguments"][0],0,0);try{testctx.getImageData(0,0,1,1)}catch(e){testCanvas=doc.createElement("canvas");testctx=testCanvas.getContext("2d");continue}safeImages.push(renderItem["arguments"][0].src)}ctx.drawImage.apply(ctx,renderItem["arguments"])}break;default:}}if(storageContext.clip)ctx.restore()}h2clog("html2canvas: Renderer: Canvas renderer done - returning canvas obj");queueLen=options.elements.length;if(queueLen===1)if(typeof options.elements[0]==="object"&&options.elements[0].nodeName!==
"BODY"&&usingFlashcanvas===false){bounds=_html2canvas.Util.Bounds(options.elements[0]);newCanvas=doc.createElement("canvas");newCanvas.width=bounds.width;newCanvas.height=bounds.height;ctx=newCanvas.getContext("2d");ctx.drawImage(canvas,bounds.left,bounds.top,bounds.width,bounds.height,0,0,bounds.width,bounds.height);canvas=null;return newCanvas}return canvas}};return methods};window.html2canvas=html2canvas})(window,document);
(function($){var BlobBuilder=window.BlobBuilder||window.MozBlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder||undefined;var FormData=window.FormData||undefined;var isTouchDevice="ontouchstart"in document.documentElement;function dataURItoBlob(dataURI,callback){var byteString=atob(dataURI.split(",")[1]);var mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0];var ab=new ArrayBuffer(byteString.length);var ia=new Uint8Array(ab);for(var i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);
var bb=new BlobBuilder;bb.append(ab);return bb.getBlob(mimeString)}function touchToMouseEvent(event){if(event.originalEvent.touches.length>1)return;var touch=event.originalEvent.changedTouches[0];var newEvent=document.createEvent("MouseEvents");var type=null;var simulateClick=false;switch(event.type){case "touchstart":type="mousedown";break;case "touchmove":type="mousemove";break;case "touchend":type="mouseup";break;default:return}if(event.type=="touchstart"){event.target.startX=touch.clientX;event.target.startY=
touch.clientY}else if(event.type=="touchend"){simulateClick=Math.abs(event.target.startX-touch.clientX)<10||Math.abs(event.target.startY-touch.clientY)<10;if(simulateClick)type="click"}newEvent.initMouseEvent(type,true,true,window,1,touch.screenX,touch.screenY,touch.clientX,touch.clientY,false,false,false,false,0,null);event.target.dispatchEvent(newEvent);event.preventDefault()}function isCanvasSupported(){var elem=document.createElement("canvas");return!!(elem.getContext&&elem.getContext("2d"))}
function distance(element){var x=element.position().left+element.width()-element.position().left;var y=element.position().top+element.height()-element.position().top;return Math.sqrt(x*x+y*y)}var css={base:{"position":"absolute","top":0,"left":0,"margin":0,"z-index":4900},markers:{"z-index":5E3,"background-color":"rgba(0,0,0,0)"},rectangle:{"position":"absolute","font-size":"14px","font-weight":"bold","z-index":5500,"border":"2px solid #000"},unselectable:{"-moz-user-select":"-moz-none","-khtml-user-select":"none",
"-webkit-user-select":"none","user-select":"none"}};var HTMLFeedback={};HTMLFeedback.instances={};HTMLFeedback.defaults={uploadAsURI:BlobBuilder?false:true,useCanvas:isCanvasSupported(),minimalDistance:10,color:"rgba(255,255,255,0)",container:$(document),uploadName:"screenshot",uploadMIME:"image/png",onRectangleStart:function(rectangle,x,y){},onRectangleEnd:function(rectangle,x,y){rectangle.text("Click me to remove");rectangle.mouseover(function(e){rectangle.text("Click me to remove")});rectangle.mouseout(function(e){rectangle.text("")})},
onPreRender:function(){alert("HTMLFeedback will now create a screenshot of the web elements "+"ONLY. The overlay and feedback window will hide for a second "+"and will then show again. Rendering can take a few seconds.")},onPostRender:function(canvas){},onShow:function(){},onHide:function(){}};HTMLFeedback.paint=function(instance){if(instance.options.useCanvas){var context=instance.overlay[0].getContext("2d");context.clearRect(0,0,instance.overlay.width(),instance.overlay.height());context.fillStyle=
"rgba(0, 0, 0, 0.5)";context.fillRect(0,0,instance.overlay.width(),instance.overlay.height())}instance.markers.find("div").each(function(){var element=$(this);var borderWidth=parseInt(element.css("border-left-width"),10);if(instance.options.useCanvas)context.clearRect(element.position().left,element.position().top,element.width()+borderWidth*2,element.height()+borderWidth*2)})};HTMLFeedback.resize=function(instance){if(instance.options.useCanvas){instance.overlay.prop("width",instance.options.container.width());
instance.overlay.prop("height",instance.options.container.height())}instance.markers.width(instance.options.container.width());instance.markers.height(instance.options.container.height())};HTMLFeedback.clear=function(instance){instance.markers.html("");HTMLFeedback.paint(instance)};HTMLFeedback.show=function(instance){if(instance.options.useCanvas)instance.overlay.show();instance.markers.show();instance.options.onShow()};HTMLFeedback.hide=function(instance){if(instance.options.useCanvas)instance.overlay.hide();
instance.markers.hide();instance.options.onHide()};HTMLFeedback.toggle=function(instance){if(instance.markers.is(":visible"))HTMLFeedback.hide(instance);else HTMLFeedback.show(instance)};HTMLFeedback.render=function(instance){if(instance.options.useCanvas)instance.overlay.hide();instance.options.onPreRender();html2canvas(instance.element,{onrendered:function(canvas){instance.options.onPostRender(canvas);if(instance.options.useCanvas)instance.overlay.show()}})};HTMLFeedback.upload=function(instance,
extra){var imageData=null;var imageMime=instance.options.uploadMime;var uploadName=instance.options.uploadName;if(instance.options.useCanvas)instance.overlay.hide();instance.options.onPreRender();html2canvas(instance.element,{onrendered:function(canvas){instance.options.onPostRender(canvas);if(instance.options.uploadAsURI)imageData=canvas.toDataURL(imageMime);else if(canvas.toBlob?true:false)canvas.toBlob(function(blob){imageData=blob},imageMime);else imageData=dataURItoBlob(canvas.toDataURL(imageMime));
if(FormData){var form=new FormData;form.append(uploadName,imageData);$.each(extra.data||{},function(key,value){form.append(key,value)});extra.data=form}else{extra.data=extra.data||{};extra.data[uploadName]=imageData}$.ajax($.extend({cache:false,contentType:false,processData:false,type:"POST"},extra));if(instance.options.useCanvas)instance.overlay.show()}})};HTMLFeedback.init=function(element,options){var options=$.extend(HTMLFeedback.defaults,options);var overlay=options.useCanvas?$("<canvas />").css(css.base).css(css.unselectable).appendTo(element):
null;var markers=$("<div />").css(css.base).css(css.markers).css(css.unselectable).appendTo(element);var instance=HTMLFeedback.instances[element]={overlay:overlay,markers:markers,options:options,element:element};var rectangle=null;$(window).resize(function(){HTMLFeedback.resize(instance);HTMLFeedback.paint(instance)});markers.mousedown(function(e){rectangle=$("<div />").css({"left":e.pageX,"top":e.pageY}).css($.extend(css.rectangle,css.unselectable,{"background-color":instance.options.color}));var rectangleLeft=
e.pageX;var rectangleTop=e.pageY;instance.options.onRectangleStart(rectangle,rectangleLeft,rectangleTop);rectangle.appendTo(markers);markers.mousemove(function(e){rectangle.width(Math.abs(e.pageX-rectangleLeft));rectangle.height(Math.abs(e.pageY-rectangleTop));if(e.pageX<rectangleLeft)rectangle.css("left",e.pageX);if(e.pageY<rectangleTop)rectangle.css("top",e.pageY)})});markers.mouseup(function(e){var self=rectangle;var remove=function(){self.remove();HTMLFeedback.paint(instance)};if(distance(self)<
options.minimalDistance)remove();else{instance.options.onRectangleEnd(self,e.pageX,e.pageY);self.mousedown(function(){return false});self.click(remove)}markers.unbind("mousemove");HTMLFeedback.paint(instance)});if(isTouchDevice){instance.markers.bind("touchstart",touchToMouseEvent);instance.markers.bind("touchmove",touchToMouseEvent);instance.markers.bind("touchend",touchToMouseEvent);instance.markers.bind("touchcancel",touchToMouseEvent)}HTMLFeedback.hide(instance);HTMLFeedback.resize(instance);
HTMLFeedback.clear(instance)};$.fn.htmlfeedback=function(input,extra){var type=typeof input;var self=$(this);if(arguments.length==0||type=="object")HTMLFeedback.init(self,input);else if(type=="string"){var instance=HTMLFeedback.instances[self];switch(input.toLowerCase()){case "show":HTMLFeedback.show(instance);break;case "hide":HTMLFeedback.hide(instance);break;case "toggle":HTMLFeedback.toggle(instance);break;case "render":HTMLFeedback.render(instance,extra);break;case "upload":HTMLFeedback.upload(instance,
extra);break;case "reset":HTMLFeedback.hide(instance);HTMLFeedback.resize(instance);HTMLFeedback.clear(instance);break;case "color":instance.options.color=extra;break}return self}}})(jQuery);
(function($,undefined){function MultiDialog(){this.defaults={gallery:{enabled:false,loop:false,strings:{position:"Item {index} of {amount}: ",next:"Next",prev:"Previous"},showPositionInfo:{title:true,desc:false}},descEnabled:true,dialog:{closeOnEscape:true,closeText:"close",closeModalOnClick:true,width:600,height:400,forceFullscreen:false,resizeOnWindowResize:true,scrollWithViewport:true,resizeAccordingToViewport:true,resizeToBestPossibleSize:false,useAnimation:true,animateOptions:{duration:500,queue:false},
modal:true,buttons:null,resized:null,useContentSize:true},disabled:false,getVarPrefix:"",types:{defaultType:"auto",defaultConfig:{test:null,template:"<div class='overflow'>{content}</div>",title:function(element){return element.attr("title")||element.text()},desc:null,marker:{},addParameters:""},config:{image:{test:function(href){return href.match(/\.(jpg|jpeg|png|gif)(\?.*)?$/)},template:"<a href='#next' class='multibox-api next' rel='next'></a><a href='#prev' class='multibox-api prev' rel='prev'></a><img width='100%' height='100%' alt='{alt}' title='{title}' src='{path}' />",
title:function(element){return element.find("img").attr("alt")||element.text()},desc:function(element){return element.find("img").attr("longdesc")||element.find("img").attr("alt")||element.attr("title")},marker:{title:function(element){return element.find("img").attr("alt")||element.attr("title")||element.text()},alt:function(element){return element.find("img").attr("alt")||element.find("img").attr("title")||element.attr("title")||element.text()}}},youtube:{test:function(href){return href.match(/youtube\.com\/watch/i)||
href.match(/youtu\.be/i)},template:"<iframe width='100%' height='100%' src='{url}' frameborder='0' allowFullScreen></iframe>",addParameters:"?autoplay=1"},vimeo:{test:function(href){return href.match(/vimeo\.com\//i)},template:"<iframe width='100%' height='100%' src='{url}' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>",addParameters:"?autoplay=1"},iframe:{test:function(href){return href.match(/iframe=true/i)},template:"<iframe width='100%' height='100%' src='{url}' frameborder='0'></iframe>"},
ajax:{test:function(href){return href.match(/ajax=true/i)},settings:{dataType:"html"}},inline:{test:function(href){return href.match(/\#/)}}}},openCustom:function(data){window.open(data.href,"_newtab")},loadingHandler:function(data){this.isLoading=true;this._defaultHandler("<div class='ui-state-highlight ui-corner-all'><p><span class='ui-icon ui-icon-info'></span><strong>Loading content, please wait!</strong></p></div>","Loading...",data)},errorHandler:function(data){this._defaultHandler("<div class='ui-state-error ui-corner-all'><p><span class='ui-icon ui-icon-alert'></span><strong>Sorry, an error has occured. Please try again!</strong></p></div>",
"Error!",data.data)},on:{create:null,createDialog:null,open:null,change:null,close:null,position:null,resize:null,move:null,imageError:null,inlineError:null}}}$.extend(MultiDialog.prototype,{_create:function(_elements,_options){this.widgetName="MultiDialog";this.options=$.extend(true,{},this.defaults,_options);this.uid=this.widgetName+"-"+Math.random().toString(16).slice(2,10);this.isOpen=false;this.isLoading=false;var that=this,options=this.options,elements=$(_elements);$.each(options.types.config,
function(type){options.types.config[type]=$.extend(true,{},options.types.defaultConfig,options.types.config[type])});if(elements.length&&!options.disabled)elements.bind("click."+this.widgetName,function(event){if(elements.length>1&&options.gallery.enabled)that.openGallery(elements,$(this));else that.openLink($(this));that.clickedElement=event.currentTarget;event.preventDefault()});that._fireCallback("create")},openLink:function(_data){var options=this.options,data=this._openLinkHelper(_data),typeGet,
config,widthGet,heightGet,fn;if(!data.type){typeGet=this._getUrlVar(data.href,options.getVarPrefix+"type");if(typeGet)data.type=typeGet==="auto"?this._getType(data.href):typeGet;else data.type=options.types.defaultType==="auto"?this._getType(data.href):options.types.defaultType}else if(data.type==="auto")data.type=this._getType(data.href);if(data.element){config=data.type?options.types.config[data.type]:options.types.defaultConfig;data.marker=$.extend({},config.marker,data.marker);$.each(config.marker,
function(key,callback){if($.isFunction(callback))data.marker[key]=callback.call(this,data.element)});if(!data.title&&$.isFunction(config.title))data.title=config.title.call(this,data.element);if(options.descEnabled&&!data.desc&&$.isFunction(config.desc))data.desc=config.desc.call(this,data.element)}if(isNaN(data.width)){widthGet=this._getUrlVar(data.href,options.getVarPrefix+"width");data.width=widthGet?parseInt(widthGet,10):false}if(isNaN(data.height)){heightGet=this._getUrlVar(data.href,options.getVarPrefix+
"height");data.height=heightGet?parseInt(heightGet,10):false}fn="open"+data.type.charAt(0).toUpperCase()+data.type.slice(1);if(fn!=="open"&&$.isFunction(this[fn]))this[fn](data);else options.openCustom.call(this,data)},_getType:function(href){var type="";$.each(this.options.types.config,function(_type,config){if(config.test.call(this,href)){type=_type;return false}});return type},openImage:function(data){data=this._openLinkHelper(data);var that=this,options=this.options,image=new Image;options.loadingHandler.call(this,
data);image.onload=function(){if(!data.width)data.width=image.width;if(!data.height)data.height=image.height;that._parseHtml(data,"image","path");that._changeDialog(data);image.onload=function(){}};image.onerror=function(error){options.errorHandler.call(that,that._fireCallback("imageError",error,data))};image.src=data.href+options.types.config.image.addParameters},openIframe:function(data){data=this._openLinkHelper(data);this._parseHtml(data,"iframe","url");this._open(data)},openInline:function(data){data=
this._openLinkHelper(data);var element=$("#"+data.href.split("#")[1]);if(element.length){this._parseHtml(data,"inline","content",element.html());this._open(data)}else this.options.errorHandler.call(this,this._fireCallback("inlineError",null,data))},openYoutube:function(data){data=this._openLinkHelper(data);var path="http://www.youtube.com/embed/"+this._getUrlVar(data.href,"v")+this.options.types.config.youtube.addParameters;this._parseHtml(data,"youtube","url",path);this._open(data)},openVimeo:function(data){data=
this._openLinkHelper(data);var match=data.href.match(/http:\/\/(www\.)?vimeo.com\/(\d+)/),path="http://player.vimeo.com/video/"+match[2]+this.options.types.config.vimeo.addParameters;this._parseHtml(data,"vimeo","url",path);this._open(data)},openAjax:function(data){data=this._openLinkHelper(data);var that=this,options=this.options,ajaxOptions;options.loadingHandler.call(this,data);ajaxOptions=$.extend({url:data.href,error:function(info){options.errorHandler.call(that,that._fireCallback("ajaxError",
info,data))},success:function(html){that._parseHtml(data,"ajax","content",html);that._changeDialog(data)}},options.types.config.ajax.settings);this.xhr=$.ajax(ajaxOptions)},openHtml:function(data){var isJquery=data instanceof jQuery;if(isJquery||data.element){if(isJquery)data.element=data;data.html=data.element.html()}else data.html=data;this._open(data)},_openLinkHelper:function(data){if(!data.href)if(data.element)data.href=data.element.attr("href");else{var element=data;data={};if(element instanceof
jQuery){data.href=element.attr("href");data.element=element}else data.href=element}return data},open:function(data){if(data.href||data.element&&data.element.is("a")||data instanceof jQuery&&data.is("a"))this.openLink(data);else this.openHtml(data)},_open:function(data){if(!this.options.disabled)if(this.uiDialog)this._changeDialog(data);else this._createDialog(data)},openGallery:function(group,index){var that=this,groupIsJquery=group instanceof jQuery;this.group=$.isArray(group)?group:[];if(groupIsJquery)group.each(function(i){that.group[i]=
{};that.group[i].element=$(this)});if(index instanceof jQuery&&groupIsJquery)this.index=group.index(index);else if(!isNaN(index))this.index=index;else this.index=0;if(this.group.length>1){if(!this.options.dialog.buttons)this._addGalleryButtons();this.open(this.group[this.index]);this._addNonMouseControl()}},index:function(index){this._move(index)},next:function(){this._move("next")},prev:function(){this._move("prev")},first:function(){this._move("first")},last:function(){this._move("last")},_move:function(direction){var newIndex=
this.index;switch(direction){case "first":newIndex=0;break;case "last":newIndex=this.group.length-1;break;case "next":newIndex=this.options.gallery.loop&&newIndex===this.group.length-1?0:newIndex+1;break;case "prev":newIndex=this.options.gallery.loop&&newIndex===0?this.group.length-1:newIndex-1;break;default:newIndex=direction;break}if(!isNaN(newIndex)&&newIndex!==this.index&&this.group[newIndex]){this.index=newIndex;this.open(this.group[this.index]);this._changeGalleryButtons();this._fireCallback("move",
direction,this.group[this.index])}else this.close()},_createDialog:function(data){var that=this,size=this._getSize(data);this.uiDialog=$("<div />");this.uiDialogContent=$("<div />",{"class":this.widgetName+"-content ui-helper-clearfix "+data.type,"aria-describedby":this.uid+"-desc",html:data.html}).appendTo(this.uiDialog);this.uiDialogDesc=$("<div />",{"class":this.widgetName+"-desc ui-helper-clearfix","id":this.uid+"-desc",html:$("<div class='inner'>")}).appendTo(this.uiDialog);this.uiDialog.dialog($.extend(true,
{},that.options.dialog,{dialogClass:this.widgetName+" "+that.options.dialog.dialogClass,close:function(event){that._close(event)},width:size.width,height:size.height,open:function(){that.isOpen=true;that._fireCallback("open",data)}}));this.uiDialogWidget=this.uiDialog.dialog("widget");this._setDesc(data);this._setTitle(data);this.uiDialogWidget.on("click."+this.widgetName,".multibox-api[rel]",function(event){that._move($(this).attr("rel"));event.preventDefault()});if(this.isLoading)this._setAria();
that._fireCallback("createDialog",null,data)},_setAria:function(){this.uiDialog.dialog("setAriaLive",this.isLoading);this.uiDialogWidget.toggleClass("loading",this.isLoading)},_setAndShowContent:function(data){var that=this;this.uiDialogContent.html(data.html);this._setTitle(data);this._setDesc(data);$.Widget.prototype._show(this.uiDialogContent,this.options.dialog.show,function(){that._setAria();that.uiDialog.dialog("focusTabbable");that._fireCallback("change",null,data)})},_changeDialog:function(data){var that=
this;this.isLoading=false;$.Widget.prototype._hide(this.uiDialogDesc,this.options.dialog.hide);$.Widget.prototype._hide(this.uiDialogContent,this.options.dialog.hide,function(){that._setSize(data);that.uiDialogWidget.one("dialogresized",function(){that._setAndShowContent(data)})})},_setDesc:function(data){var string=this._getPositionInfo("desc")+(data.desc||"");if(string){this.uiDialogDesc.children(".inner").html(string);$.Widget.prototype._show(this.uiDialogDesc,this.options.dialog.show)}},_setTitle:function(data){var html=
this._getPositionInfo("title")+(data.title||this.options.dialog.title);this.uiDialog.dialog("option","title",$("<div>"+html+"</div>").text())},_addGalleryButtons:function(){var that=this,prevDisabled=!!(this.index===0&&!this.options.gallery.loop),nextDisabled=!!(this.index===this.group.length-1&&!this.options.gallery.loop);this.options.dialog.buttons=[{text:this.options.gallery.strings.prev,click:function(){that.prev()},disabled:prevDisabled,"class":"prev"},{text:this.options.gallery.strings.next,
click:function(){that.next()},disabled:nextDisabled,"class":"next"}]},_changeGalleryButtons:function(){if(!this.options.gallery.loop&&this.options.dialog.buttons){var buttonpane=this.uiDialogWidget.children(".ui-dialog-buttonpane"),prev=buttonpane.find(".prev"),next=buttonpane.find(".next");if(this.index===0)this._changeButton(prev,next);else prev.button("enable");if(this.index===this.group.length-1)this._changeButton(next,prev);else next.button("enable")}},_changeButton:function(b1,b2){b1.removeClass("ui-state-focus ui-state-hover ui-state-active").button("disable");
b2.focus()},_addNonMouseControl:function(){var that=this;this.uiDialogWidget.on("keydown."+this.widgetName,function(event){switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.SPACE:that.next();event.preventDefault();break;case $.ui.keyCode.LEFT:case $.ui.keyCode.UP:that.prev();event.preventDefault();break;case $.ui.keyCode.END:that.last();event.preventDefault();break;case $.ui.keyCode.HOME:that.first();event.preventDefault();break}});if($.event.special.swipe)this.uiDialogWidget.on("swipeleft."+
this.widgetName,function(event){that.next();event.preventDefault()}).on("swiperight."+this.widgetName,function(event){that.prev();event.preventDefault()})},_parseHtml:function(data,type,marker,value){if(!value)value=data.href+this.options.types.config[type].addParameters;var template=this.options.types.config[type].template.replace(new RegExp("{"+marker+"}","g"),value);if(data.marker)$.each(data.marker,function(name,_value){template=template.replace(new RegExp("{"+name+"}","g"),_value)});data.html=
template},destroy:function(){this.element.unbind(this.widgetName);this.uiDialog.dialog("destroy")},widget:function(){return this.uiDialogWidget},dialog:function(){return this.uiDialog},close:function(event){this.uiDialog.dialog("close",event)},_close:function(event){if(this.xhr)this.xhr.abort();this.uiDialog.dialog("destroy");this.uiDialog=null;if(this.clickedElement)$(this.clickedElement).focus();this.isOpen=false;this._fireCallback("close",event)},_getSize:function(data){return{width:data.width&&
!isNaN(data.width)?data.width:this.options.dialog.width,height:data.height&&!isNaN(data.height)?data.height:this.options.dialog.height}},_setSize:function(data){var size=this._getSize(data);this.uiDialog.dialog("changeSize",size.width,size.height)},_defaultHandler:function(html,title,data){var that=this,_data=$.extend({},data,{html:html,title:title,desc:""});if(this.isOpen){$.Widget.prototype._hide(this.uiDialogDesc,this.options.dialog.hide);$.Widget.prototype._hide(this.uiDialogContent,this.options.dialog.hide,
function(){that._setAndShowContent(_data)})}else this._open(_data)},_getPositionInfo:function(key){if(this.options.gallery.enabled&&this.group.length>0&&this.options.gallery.showPositionInfo[key]&&!this.isLoading)return"<span class='position'>"+this.options.gallery.strings.position.replace("{index}",this.index+1).replace("{amount}",this.group.length)+"</span>";return""},_fireCallback:function(eventName,eventData,data){var info={eventName:eventName,eventData:eventData,data:data,dialog:this.uiDialog,
group:this.group,index:this.index};if(eventName&&this.options.on[eventName]&&$.isFunction(this.options.on[eventName]))this.options.on[eventName].call(this,info);return info},_getUrlVar:function(href,name){var hashes=href.slice(href.indexOf("?")+1).split("&"),vars=[],hash,i;for(i=0;i<hashes.length;i++){hash=hashes[i].split("=");vars.push(hash[0]);vars[hash[0]]=hash[1]}return vars[name]}});$.fn.MultiDialog=function(options){$.MultiDialog=new MultiDialog;$.MultiDialog._create(this,options);return $.MultiDialog}})(jQuery);
(function(b){b.fn.bPopup=function(z,F){function K(){a.contentContainer=b(a.contentContainer||c);switch(a.content){case "iframe":var h=b('<iframe class="b-iframe" '+a.iframeAttr+"></iframe>");h.appendTo(a.contentContainer);r=c.outerHeight(!0);s=c.outerWidth(!0);A();h.attr("src",a.loadUrl);k(a.loadCallback);break;case "image":A();b("<img />").load(function(){k(a.loadCallback);G(b(this))}).attr("src",a.loadUrl).hide().appendTo(a.contentContainer);break;default:A(),b('<div class="b-ajax-wrapper"></div>').load(a.loadUrl,
a.loadData,function(){k(a.loadCallback);G(b(this))}).hide().appendTo(a.contentContainer)}}function A(){a.modal&&b('<div class="b-modal '+e+'"></div>').css({backgroundColor:a.modalColor,position:"fixed",top:0,right:0,bottom:0,left:0,opacity:0,zIndex:a.zIndex+t}).appendTo(a.appendTo).fadeTo(a.speed,a.opacity);D();c.data("bPopup",a).data("id",e).css({left:"slideIn"==a.transition||"slideBack"==a.transition?"slideBack"==a.transition?g.scrollLeft()+u:-1*(v+s):l(!(!a.follow[0]&&m||f)),position:a.positionStyle||
"absolute",top:"slideDown"==a.transition||"slideUp"==a.transition?"slideUp"==a.transition?g.scrollTop()+w:x+-1*r:n(!(!a.follow[1]&&p||f)),"z-index":a.zIndex+t+1}).each(function(){a.appending&&b(this).appendTo(a.appendTo)});H(!0)}function q(){a.modal&&b(".b-modal."+c.data("id")).fadeTo(a.speed,0,function(){b(this).remove()});a.scrollBar||b("html").css("overflow","auto");b(".b-modal."+e).unbind("click");g.unbind("keydown."+e);d.unbind("."+e).data("bPopup",0<d.data("bPopup")-1?d.data("bPopup")-1:null);
c.undelegate(".bClose, ."+a.closeClass,"click."+e,q).data("bPopup",null);H();return!1}function G(h){var b=h.width(),e=h.height(),d={};a.contentContainer.css({height:e,width:b});e>=c.height()&&(d.height=c.height());b>=c.width()&&(d.width=c.width());r=c.outerHeight(!0);s=c.outerWidth(!0);D();a.contentContainer.css({height:"auto",width:"auto"});d.left=l(!(!a.follow[0]&&m||f));d.top=n(!(!a.follow[1]&&p||f));c.animate(d,250,function(){h.show();B=E()})}function L(){d.data("bPopup",t);c.delegate(".bClose, ."+
a.closeClass,"click."+e,q);a.modalClose&&b(".b-modal."+e).css("cursor","pointer").bind("click",q);M||!a.follow[0]&&!a.follow[1]||d.bind("scroll."+e,function(){B&&c.dequeue().animate({left:a.follow[0]?l(!f):"auto",top:a.follow[1]?n(!f):"auto"},a.followSpeed,a.followEasing)}).bind("resize."+e,function(){w=y.innerHeight||d.height();u=y.innerWidth||d.width();if(B=E())clearTimeout(I),I=setTimeout(function(){D();c.dequeue().each(function(){f?b(this).css({left:v,top:x}):b(this).animate({left:a.follow[0]?
l(!0):"auto",top:a.follow[1]?n(!0):"auto"},a.followSpeed,a.followEasing)})},50)});a.escClose&&g.bind("keydown."+e,function(a){27==a.which&&q()})}function H(b){function d(e){c.css({display:"block",opacity:1}).animate(e,a.speed,a.easing,function(){J(b)})}switch(b?a.transition:a.transitionClose||a.transition){case "slideIn":d({left:b?l(!(!a.follow[0]&&m||f)):g.scrollLeft()-(s||c.outerWidth(!0))-C});break;case "slideBack":d({left:b?l(!(!a.follow[0]&&m||f)):g.scrollLeft()+u+C});break;case "slideDown":d({top:b?
n(!(!a.follow[1]&&p||f)):g.scrollTop()-(r||c.outerHeight(!0))-C});break;case "slideUp":d({top:b?n(!(!a.follow[1]&&p||f)):g.scrollTop()+w+C});break;default:c.stop().fadeTo(a.speed,b?1:0,function(){J(b)})}}function J(b){b?(L(),k(F),a.autoClose&&setTimeout(q,a.autoClose)):(c.hide(),k(a.onClose),a.loadUrl&&(a.contentContainer.empty(),c.css({height:"auto",width:"auto"})))}function l(a){return a?v+g.scrollLeft():v}function n(a){return a?x+g.scrollTop():x}function k(a){b.isFunction(a)&&a.call(c)}function D(){x=
p?a.position[1]:Math.max(0,(w-c.outerHeight(!0))/2-a.amsl);v=m?a.position[0]:(u-c.outerWidth(!0))/2;B=E()}function E(){return w>c.outerHeight(!0)&&u>c.outerWidth(!0)}b.isFunction(z)&&(F=z,z=null);var a=b.extend({},b.fn.bPopup.defaults,z);a.scrollBar||b("html").css("overflow","hidden");var c=this,g=b(document),y=window,d=b(y),w=y.innerHeight||d.height(),u=y.innerWidth||d.width(),M=/OS 6(_\d)+/i.test(navigator.userAgent),C=200,t=0,e,B,p,m,f,x,v,r,s,I;c.close=function(){a=this.data("bPopup");e="__b-popup"+
d.data("bPopup")+"__";q()};return c.each(function(){b(this).data("bPopup")||(k(a.onOpen),t=(d.data("bPopup")||0)+1,e="__b-popup"+t+"__",p="auto"!==a.position[1],m="auto"!==a.position[0],f="fixed"===a.positionStyle,r=c.outerHeight(!0),s=c.outerWidth(!0),a.loadUrl?K():A())})};b.fn.bPopup.defaults={amsl:50,appending:!0,appendTo:"body",autoClose:!1,closeClass:"b-close",content:"ajax",contentContainer:!1,easing:"swing",escClose:!0,follow:[!0,!0],followEasing:"swing",followSpeed:500,iframeAttr:'scrolling="no" frameborder="0"',
loadCallback:!1,loadData:!1,loadUrl:!1,modal:!0,modalClose:!0,modalColor:"#000",onClose:!1,onOpen:!1,opacity:.7,position:["auto","auto"],positionStyle:"absolute",scrollBar:!0,speed:250,transition:"fadeIn",transitionClose:!1,zIndex:9997}})(jQuery);var Opentip,firstAdapter,i,mouseMoved,mousePosition,mousePositionObservers,position,vendors,_i,_len,_ref,__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;
for(Opentip=function(){function t(e,i,o,s){var n,r,a,h,p,d,l,u,c,g,f,m,v,b,w=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,n=this.adapter.data(e,"opentips")||[],n.push(this),this.adapter.data(e,"opentips",n),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");this.loaded=!1,this.loading=!1,this.visible=!1,
this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},s=this.adapter.clone(s),typeof i=="object"?(s=i,i=o=void 0):typeof o=="object"&&(s=o,o=void 0),o!=null&&(s.title=o),i!=null&&this.setContent(i),s["extends"]==null&&(s["extends"]=s.style!=null?s.style:t.defaultStyle),h=[s],b=s;while(b["extends"]){if(d=b["extends"],b=t.styles[d],b==null)throw Error("Invalid style: "+
d);h.unshift(b),b["extends"]==null&&d!=="standard"&&(b["extends"]="standard")}for(s=(f=this.adapter).extend.apply(f,[{}].concat(__slice.call(h))),s.hideTriggers=function(){var t,e,i,o;for(i=s.hideTriggers,o=[],t=0,e=i.length;e>t;t++)r=i[t],o.push(r);return o}(),s.hideTrigger&&s.hideTriggers.length===0&&s.hideTriggers.push(s.hideTrigger),m=["tipJoint","targetJoint","stem"],l=0,c=m.length;c>l;l++)p=m[l],s[p]&&typeof s[p]=="string"&&(s[p]=new t.Joint(s[p]));for(!s.ajax||s.ajax!==!0&&s.ajax||(s.ajax=
this.adapter.tagName(this.triggerElement)==="A"?this.adapter.attr(this.triggerElement,"href"):!1),s.showOn==="click"&&this.adapter.tagName(this.triggerElement)==="A"&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),s.target&&(s.fixed=!0),s.stem===!0&&(s.stem=new t.Joint(s.tipJoint)),s.target===!0?s.target=this.triggerElement:s.target&&(s.target=this.adapter.wrap(s.target)),this.currentStem=s.stem,s.delay==null&&(s.delay=s.showOn===
"mouseover"?.2:0),s.targetJoint==null&&(s.targetJoint=(new t.Joint(s.tipJoint)).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],s.showOn&&s.showOn!=="creation"&&this.showTriggers.push({element:this.triggerElement,event:s.showOn}),s.ajaxCache!=null&&(s.cache=s.ajaxCache,delete s.ajaxCache),this.options=s,this.bound={},v=["prepareToShow","prepareToHide","show","hide","reposition"],u=0,g=v.length;g>u;u++)a=v[u],this.bound[a]=function(t){return function(){return w[t].apply(w,
arguments)}}(a);this.adapter.domReady(function(){return w.activate(),w.options.showOn==="creation"?w.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype["class"]={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",
showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,s,n,r,a,h,p,d;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],h=this.options.hideTriggers,o=s=0,r=h.length;r>s;o=++s){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,typeof e==
"string")switch(e){case "trigger":t=t||"mouseout",i=this.triggerElement;break;case "tip":t=t||"mouseover",i=this.container;break;case "target":t=t||"mouseover",i=this.options.target;break;case "closeButton":break;default:throw Error("Unknown hide trigger: "+e+".");}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=this.hideTriggers,d=[],n=0,a=p.length;a>n;n++)e=p[n],d.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));
return d},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this["class"].container+" "+this["class"].hidden+" "+this["class"].stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this["class"].loading),this.options.fixed&&this.adapter.addClass(this.container,this["class"].fixed),this.options.showEffect&&this.adapter.addClass(this.container,
""+this["class"].showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this["class"].hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this["class"].opentip+'"><div class="'+this["class"].header+'"></div><div class="'+this["class"].content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,
{position:"absolute"}),typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager!==null&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this["class"].header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this["class"].loadingIndicator+
'"><span>?</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this["class"].close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=
t,this._newContent=!0,typeof this.content=="function"?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(t=this.adapter.find(this.container,"."+this["class"].content),t!=null&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,
this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:""+this.dimensions.width+"px",top:""+this.currentPosition.top+"px",left:""+this.currentPosition.left+"px"}),
this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,s,n,r,a,h,p,d,l,u,c,g,f,m=this;for(o=arguments.length>=1?__slice.call(arguments,0):[],n=0,p=o.length;p>n;n++)if(i=o[n],e=!1,i.charAt(0)===
"-"&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case "showing":for(c=this.hideTriggers,r=0,d=c.length;d>r;r++)s=c[r],t(s.element,s.event,this.bound.prepareToHide);t(document.onresize!=null?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case "visible":for(g=
this.showTriggersWhenVisible,a=0,l=g.length;l>a;a++)s=g[a],t(s.element,s.event,this.bound.prepareToShow);break;case "hiding":for(f=this.showTriggers,h=0,u=f.length;u>h;h++)s=f[h],t(s.element,s.event,this.bound.prepareToShow);break;case "hidden":break;default:throw Error("Unknown state: "+i);}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),this.container==null&&this._setup(),this.options.group&&
t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),this.container==
null&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,this.tooltipElement==null&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&
(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this["class"].hiding),this.adapter.removeClass(this.container,this["class"].hidden),this.adapter.addClass(this.container,this["class"].goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e["class"].goingToShow),e.adapter.addClass(e.container,e["class"].showing),t=0,e.options.showEffect&&
e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:""+t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e["class"].showing),e.adapter.addClass(e.container,e["class"].visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),
this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),
this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this["class"].visible),this.adapter.removeClass(this.container,this["class"].showing),this.adapter.addClass(this.container,this["class"].goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;
return t.adapter.removeClass(t.container,t["class"].goingToHide),t.adapter.addClass(t.container,t["class"].hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:""+e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t["class"].hiding),t.adapter.addClass(t.container,t["class"].hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?
(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,o=this;return t=this.getPosition(),t==null||(e=this.options.stem,this.options.containInViewport&&(i=this._ensureViewportContainment(t),
t=i.position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:""+t.left+"px",top:""+t.top+"px"}),this.defer(function(){var t,e;return t=o.adapter.unwrap(o.container),t.style.visibility="hidden",e=t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var o,s,n,r,a,h,p,d,l;if(this.container)return t==
null&&(t=this.options.tipJoint),e==null&&(e=this.options.targetJoint),r={},this.options.target?(p=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=p,e.right?(d=this.adapter.unwrap(this.options.target),d.getBoundingClientRect!=null?r.left=d.getBoundingClientRect().right+((l=window.pageXOffset)!=null?l:document.body.scrollLeft):r.left+=h.width):e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&
(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(a=this.options.stem?this.options.stemLength:0,n=a&&this.options.fixed?2:10,o=t.middle&&
!this.options.fixed?15:0,s=t.center&&!this.options.fixed?15:0,t.right?r.left-=n+o:t.left&&(r.left+=n+o),t.bottom?r.top-=n+s:t.top&&(r.top+=n+s),a&&(i==null&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/
2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,s,n,r,a,h,p,d,l,u,c;if(h=this.options.stem,s={position:e,stem:h},!this.visible||!e)return s;if(p=this._sticksOut(e),!p[0]&&!p[1])return s;if(l=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(d=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),c=[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&p[0])switch(i=!0,p[0]){case this.STICKS_OUT_LEFT:l.setHorizontal("left"),
this.options.targetJoint&&d.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:l.setHorizontal("right"),this.options.targetJoint&&d.setHorizontal("left")}if(u.height>=this.dimensions.height&&p[1])switch(i=!0,p[1]){case this.STICKS_OUT_TOP:l.setVertical("top"),this.options.targetJoint&&d.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:l.setVertical("bottom"),this.options.targetJoint&&d.setVertical("top")}return i?(this.options.stem&&(h=l),e=this.getPosition(l,d,h),o=this._sticksOut(e),
n=!1,r=!1,o[0]&&o[0]!==p[0]&&(n=!0,l.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&d.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==p[1]&&(r=!0,l.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&d.setVertical(this.options.targetJoint.vertical)),n&&r?s:((n||r)&&(this.options.stem&&(h=l),e=this.getPosition(l,d,h)),{position:e,stem:h})):s},t.prototype._sticksOut=function(t){var e,i,o,s;return i=this.adapter.scrollOffset(),s=this.adapter.viewportDimensions(),
e=[t.left-i[0],t.top-i[1]],o=[!1,!1],0>e[0]?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>s.width&&(o[0]=this.STICKS_OUT_RIGHT),0>e[1]?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>s.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,s,n,r,a,h,p,d,l,u,c,g,f,m,v,b,w,_=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(v=["top","right","bottom","left"],f=0,m=v.length;m>f;f++)u=v[f],this.adapter.removeClass(this.container,
"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(n=new t.Joint(((b=this.currentStem)!=null?b+"":void 0)==="top right"?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-
this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),s=[0,0],this.options.borderWidth&&(o.width+=this.options.borderWidth*2,o.height+=this.options.borderWidth*2,s[0]-=this.options.borderWidth,s[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=this.options.shadowBlur*2,o.width+=Math.max(0,this.options.shadowOffset[0]-this.options.shadowBlur*2),o.height+=this.options.shadowBlur*2,o.height+=Math.max(0,this.options.shadowOffset[1]-
this.options.shadowBlur*2),s[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),s[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),n&&(n.left?i.left=Math.max(i.left,a[0]):n.right&&(i.right=
Math.max(i.right,a[0])),n.top?i.top=Math.max(i.top,a[1]):n.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,s[0]-=i.left,s[1]-=i.top,this.currentStem&&this.options.borderWidth&&(w=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),g=w.stemLength,c=w.stemBase),e=this.adapter.unwrap(this.backgroundCanvas),e.width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:""+e.width+"px",height:""+
e.height+"px",left:""+s[0]+"px",top:""+s[1]+"px"}),h=e.getContext("2d"),h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,l=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(g=this.options.stemLength,c=this.options.stemBase),c==null&&(c=0),d=function(t,
e,i){return i&&h.moveTo(Math.max(c,_.options.borderRadius,r[0])+1-l,-l),e?(h.lineTo(t/2-c/2,-l),h.lineTo(t/2,-g-l),h.lineTo(t/2+c/2,-l)):void 0},p=function(t,e,i){var o,s,n,a;return t?(h.lineTo(-c+l,0-l),h.lineTo(g+l,-g-l),h.lineTo(l,c-l)):e?(a=_.options.closeButtonOffset,n=r[0],i%2!==0&&(a=[a[1],a[0]],n=r[1]),o=Math.acos(a[1]/_.options.closeButtonRadius),s=Math.acos(a[0]/_.options.closeButtonRadius),h.lineTo(-n+l,-l),h.arc(l-a[0],-l+a[1],_.options.closeButtonRadius,-(Math.PI/2+o),s,!1)):(h.lineTo(-_.options.borderRadius+
l,-l),h.quadraticCurveTo(l,-l,l,_.options.borderRadius-l))},h.translate(-s[0],-s[1]),h.save(),function(){var e,i,o,s,r,a,l,u,c,g,f;for(f=[],i=c=0,g=t.positions.length/2;g>=0?g>c:c>g;i=g>=0?++c:--c)r=i*2,a=i===0||i===3?0:_.dimensions.width,l=2>i?0:_.dimensions.height,u=Math.PI/2*i,o=i%2===0?_.dimensions.width:_.dimensions.height,s=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,l),h.rotate(u),d(o,s.eql(_.currentStem),i===0),h.translate(o,0),p(e.eql(_.currentStem),
e.eql(n),i),f.push(h.restore());return f}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),n?function(){var t,e,i,o,s;return i=e=_.options.closeButtonRadius*2,n+""=="top right"?(s=[_.dimensions.width-_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]],t=[s[0]+
l,s[1]-l]):(s=[_.options.closeButtonOffset[0],_.options.closeButtonOffset[1]],t=[s[0]-l,s[1]-l]),h.translate(t[0],t[1]),o=_.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=_.options.closeButtonCrossColor,h.lineWidth=_.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-o,-o),h.lineTo(o,o),h.stroke(),h.beginPath(),h.moveTo(o,-o),h.lineTo(-o,o),h.stroke(),h.restore(),_.adapter.css(_.closeButtonElement,{left:""+(s[0]-o-_.options.closeButtonLinkOverscan)+"px",top:""+(s[1]-
o-_.options.closeButtonLinkOverscan)+"px",width:""+(_.options.closeButtonCrossSize+_.options.closeButtonLinkOverscan*2)+"px",height:""+(_.options.closeButtonCrossSize+_.options.closeButtonLinkOverscan*2)+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,s,n,r,a,h,p;if(r=i/2,n=Math.atan(t/2/e),o=n*2,a=r/Math.sin(o),s=2*a*Math.cos(n),p=r+e-s,0>p)throw Error("Sorry but your stemLength / stemBase ratio is strange.");return h=Math.tan(n)*p*2,{stemLength:p,stemBase:h}},t.prototype._getColor=
function(t,e,i,o){var s,n,r,a,h;if(o==null&&(o=!1),typeof i=="string")return i;for(n=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;h>a;r=++a)s=i[r],n.addColorStop(s[0],s[1]);return n},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(o=this.adapter.findAll(this.container,"."+this["class"].close),e=0,i=o.length;i>e;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&
this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")),t!=null?typeof t.focus=="function"?t.focus():void 0:void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?
void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;t=this.adapter.unwrap(this.triggerElement);while(t.parentNode){if(t.parentNode.tagName===
"BODY")return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this["class"].loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t["class"].loading),t.setContent(e)},onError:function(e){var i;
return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t["class"].ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t["class"].loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1E3,t.prototype._startEnsureTriggerElement=
function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,s,n,r;t=this.adapter.unwrap(t),r=[];for(i in e)__hasProp.call(e,i)&&(o=e[i],t.style[i]!=null?r.push(t.style[i]=o):r.push(function(){var e,
r,a;for(a=[],e=0,r=vendors.length;r>e;e++)s=vendors[e],n=""+this.ucfirst(s)+this.ucfirst(i),t.style[n]!=null?a.push(t.style[n]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?e*1E3:0)},Opentip.prototype.ucfirst=function(t){return t==null?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},
mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,s;for(mousePosition=Opentip.adapter.mousePosition(t),s=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],s.push(e());return s},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=
function(){var i,o,s;for(s=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],e!==t&&s.push(e);return s}()},Opentip.Joint=function(){function t(t){t!=null&&(t instanceof Opentip.Joint&&(t+=""),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,s,n,r,a;for(i=["left","center","right"],o=0,n=i.length;n>o;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());
for(this.horizontal==null&&(this.horizontal="center"),a=[],s=0,r=i.length;r>s;s++)e=i[s],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,s,n,r,a;for(i=["top","middle","bottom"],o=0,n=i.length;n>o;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(this.vertical==null&&(this.vertical="middle"),a=[],s=0,r=i.length;r>s;s++)e=i[s],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return t!=null&&this.horizontal===
t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t,e;return e=Opentip.position[this.toString(!0)],t=(e+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return t==null&&(t=!1),i=this.vertical==="middle"?"":this.vertical,e=this.horizontal==="center"?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return t!=null&&e!=null&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=
function(t,e){return t!=null&&e!=null&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&(typeof console!="undefined"&&console!==null?console.debug:void 0)!=null?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,o,s,n,r,a,h,p;for(t=Opentip.adapter,h=t.findAll(document.body,"[data-ot]"),p=[],r=0,a=h.length;a>r;r++){i=h[r],n={},e=t.data(i,
"ot"),(e===""||e==="true"||e==="yes")&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"";for(o in Opentip.styles.standard)s=t.data(i,"ot"+Opentip.prototype.ucfirst(o)),s!=null&&(s==="yes"||s==="true"||s==="on"?s=!0:(s==="no"||s==="false"||s==="off")&&(s=!1),n[o]=s);p.push(new Opentip(i,e,n))}return p},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=1002,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,s,n,r;for(n=Opentip.tips,r=[],o=0,s=n.length;s>o;o++)i=
n[o],i!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,s,n,r;for(n=Opentip.tips,r=[],o=0,s=n.length;s>o;o++)i=n[o],i!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},
Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},_ref=Opentip.positions,i=_i=0,_len=_ref.length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;
Opentip.styles={standard:{"extends":null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",
group:null,style:null,background:"#333",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:0,borderWidth:1,borderColor:"#3A3A3A",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{"extends":"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],
[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{"extends":"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{"extends":"standard",className:"alert",
borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard",typeof module!="undefined"&&module!==null?module.exports=Opentip:window.Opentip=Opentip;var __slice=[].slice;
(function(t){var e;return t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if(e=t(e),e.length>1)throw Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],
e=arguments.length>=2?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},
e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=
function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return t==null?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return i=t(e).offset(),{left:i.left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(e.url==null)throw Error("No url provided");return t.ajax({url:e.url,
type:(i=(o=e.method)!=null?o.toUpperCase():void 0)!=null?i:"GET"}).done(function(t){return typeof e.onSuccess=="function"?e.onSuccess(t):void 0}).fail(function(t){return typeof e.onError=="function"?e.onError("Server responded with status "+t.status):void 0}).always(function(){return typeof e.onComplete=="function"?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):
[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)})(jQuery)(function(){var $,FlatMessage,spinner_template,__hasProp={}.hasOwnProperty,__extends=function(child,parent){for(var key in parent)if(__hasProp.call(parent,key))child[key]=parent[key];function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};$=jQuery;spinner_template='<div class="messenger-spinner">\n    <span class="messenger-spinner-side messenger-spinner-side-left">\n        <span class="messenger-spinner-fill"></span>\n    </span>\n    <span class="messenger-spinner-side messenger-spinner-side-right">\n        <span class="messenger-spinner-fill"></span>\n    </span>\n</div>';
FlatMessage=function(_super){__extends(FlatMessage,_super);function FlatMessage(){return FlatMessage.__super__.constructor.apply(this,arguments)}FlatMessage.prototype.template=function(opts){var $message;$message=FlatMessage.__super__.template.apply(this,arguments);$message.append($(spinner_template));return $message};return FlatMessage}(window.Messenger.Message);window.Messenger.themes.flat={Message:FlatMessage}}).call(this);
(function(e){e("a[data-reveal-id]").live("click",function(t){t.preventDefault();var n=e(this).attr("data-reveal-id");e("#"+n).reveal(e(this).data())});e.fn.reveal=function(t){var n={animation:"fadeAndPop",animationspeed:300,closeonbackgroundclick:true,dismissmodalclass:"close-reveal-modal"};var t=e.extend({},n,t);return this.each(function(){function a(){s=false}function f(){s=true}var n=e(this),r=parseInt(n.css("top")),i=n.height()+r,s=false,o=e(".reveal-modal-bg");if(o.length==0)o=e('<div class="reveal-modal-bg" />').insertAfter(n);
n.bind("reveal:open",function(){o.unbind("click.modalEvent");e("."+t.dismissmodalclass).unbind("click.modalEvent");if(!s){f();if(t.animation=="fadeAndPop"){n.css({top:e(document).scrollTop()-i,opacity:0,visibility:"visible"});o.fadeIn(t.animationspeed/2);n.delay(t.animationspeed/2).animate({top:e(document).scrollTop()+r+"px",opacity:1},t.animationspeed,a())}if(t.animation=="fade"){n.css({opacity:0,visibility:"visible",top:e(document).scrollTop()+r});o.fadeIn(t.animationspeed/2);n.delay(t.animationspeed/
2).animate({opacity:1},t.animationspeed,a())}if(t.animation=="none"){n.css({visibility:"visible",top:e(document).scrollTop()+r});o.css({display:"block"});a()}}n.unbind("reveal:open")});n.bind("reveal:close",function(){if(!s){f();if(t.animation=="fadeAndPop"){o.delay(t.animationspeed).fadeOut(t.animationspeed);n.animate({top:e(document).scrollTop()-i+"px",opacity:0},t.animationspeed/2,function(){n.css({top:r,opacity:1,visibility:"hidden"});a()})}if(t.animation=="fade"){o.delay(t.animationspeed).fadeOut(t.animationspeed);
n.animate({opacity:0},t.animationspeed,function(){n.css({opacity:1,visibility:"hidden",top:r});a()})}if(t.animation=="none"){n.css({visibility:"hidden",top:r});o.css({display:"none"})}}n.unbind("reveal:close")});n.trigger("reveal:open");var u=e("."+t.dismissmodalclass).bind("click.modalEvent",function(){n.trigger("reveal:close")});if(t.closeonbackgroundclick){o.css({cursor:"pointer"});o.bind("click.modalEvent",function(){n.trigger("reveal:close")})}e("body").keyup(function(e){if(e.which===27)n.trigger("reveal:close")})})}})(jQuery); 
